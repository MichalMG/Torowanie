(this.webpackJsonpolx=this.webpackJsonpolx||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(45),r=a.n(s),i=(a(51),a(5)),l=(a(52),a(53),a(54),a(9)),o=a(8),d=n.a.createContext({state:{},dispatch:function(){}}),j=n.a.createContext({auth:!1,login:function(){},logout:function(){}});function u(){var e=Object(c.useContext)(j);return[e.user,function(t){t?(window.localStorage.setItem("user",JSON.stringify({email:t.email,token:t.idToken,localId:t.localId})),e.login({email:t.email,token:t.idToken,localId:t.localId})):(window.localStorage.removeItem("user"),e.logout())}]}var b=a(0);function m(){var e=u(),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(l.g)(),r=Object(c.useContext)(d).state;return Object(b.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"d-flex flex-column flex-sm-row align-items-center justify-content-between",style:{width:"100%"},children:[Object(b.jsx)("div",{className:"mb-2 mb-sm-0",children:Object(b.jsx)(o.c,{className:"navbar-brand",to:"/",children:"#Torowanie"})}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"collapse navbar-collapse d-flex align-items-center",id:"navbarSupportedContent",children:Object(b.jsx)("ul",{className:"navbar-nav",children:a?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-person-fill me-2",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})}),"M\xf3j profil"]}),Object(b.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{className:"dropdown-item",to:"/profile/announcements/".concat(a.localId),children:"Og\u0142oszenia"})}),Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{className:"dropdown-item",to:"/profile/update",children:"U\u017cytkownik"})}),Object(b.jsx)("li",{children:Object(b.jsx)("hr",{className:"dropdown-divider"})}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{className:"dropdown-item",onClick:function(){n(null),s.push("/")},children:"Wyloguj"})})]})]}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(o.c,{className:"btn btn-outline-".concat(r.theme," ms-3"),to:"/newAnnouncement",children:"Dodaj og\u0142oszenie"})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(o.c,{className:"nav-link",to:"/login",children:"Zaloguj"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(o.c,{className:"nav-link",to:"/registration",children:"Rejestracja"})})]})})})})]})})})}function h(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(l.g)(),r=Object(c.useContext)(d).state;return Object(b.jsx)("section",{className:"bg-light py-4",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.push("/search/".concat(a))},children:Object(b.jsxs)("div",{className:"p-3 d-flex input-group",children:[Object(b.jsx)("span",{className:"input-group-text",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})}),Object(b.jsx)("input",{type:"text",className:"form-control shadow-none",placeholder:"wyszukaj...",value:a,onChange:function(e){return n(e.target.value)}}),Object(b.jsx)("button",{type:"submit",className:"btn btn-".concat(r.theme," ms-2"),children:"Wyszukaj"})]})})})})}function p(){return Object(b.jsxs)("footer",{className:"bg-dark text-light",children:[Object(b.jsx)("div",{className:"container text-center py-2",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"display-6",children:"#Torowanie"}),Object(b.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Fugiat, unde error vero omnis explicabo sed. Sequi consequatur sint dolore magnam, voluptatum expedita nobis nam impedit enim sapiente veniam adipisci suscipit. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Doloremque nulla quo iste sapiente, neque eius qui voluptate illum maxime commodi velit tempora animi similique! Enim natus odit fuga ea exercitationem? Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perspiciatis accusantium pariatur natus temporibus autem consequatur ut itaque esse ipsum, error et nobis, odit numquam, repudiandae deleniti expedita. Error, aspernatur illo!"})]})}),Object(b.jsx)("p",{className:"mb-0 py-1 text-center",style:{fontSize:".9rem",backgroundColor:"rgba(255,255,255,.05)"},children:"Copyright by"})]})}function x(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"d-flex flex-column bg-light",style:{minHeight:"100vh"},children:[Object(b.jsx)("div",{children:e.header}),Object(b.jsx)("div",{style:{flexGrow:1},children:e.content}),Object(b.jsx)("div",{children:e.footer})]})})}var O=a(6),v=a.n(O),g=a(7);function f(){var e=Object(c.useContext)(d).state;return Object(b.jsx)("div",{className:"text-center py-4",children:Object(b.jsx)("div",{className:"spinner-grow bg-".concat(e.theme),style:{width:"3rem",height:"3rem"},role:"status",children:Object(b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}var y=a(3);function N(e){var t=Object(c.useContext)(d).state;return Object(b.jsx)("div",{className:"py-2",children:Object(b.jsx)("div",{className:"card mb-3 bg-white overflow-hidden",children:Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsx)("div",{className:"col-12 col-md-4 col-lg-3 order-1",children:Object(b.jsx)("div",{className:"position-relative",style:{width:"100%",height:"200px"},children:Object(b.jsx)("div",{style:{background:"url(".concat(e.photo,")"),backgroundSize:"cover",backgroundPosition:"center",position:"absolute",top:0,left:0,right:0,bottom:0}})})}),Object(b.jsx)("div",{className:"col-12 col-md-8 col-lg-9 my-2 my-md-0  order-2",children:Object(b.jsxs)("div",{className:"card-body d-flex flex-column flex-md-row justify-content-between",style:{height:"100%"},children:[Object(b.jsxs)("div",{className:" d-flex flex-column justify-content-between ",children:[Object(b.jsx)("p",{className:"card-text mb-0",children:Object(b.jsx)("span",{className:"fw-bold",children:e.title})}),Object(b.jsx)("p",{className:"card-text mb-0",children:Object(b.jsxs)("small",{className:"text-muted",children:[e.city,", ",e.date]})})]}),Object(b.jsxs)("div",{className:"col-12 col-md-2 d-flex flex-md-column justify-content-between  align-items-center align-items-md-end order-3",children:[Object(b.jsx)("p",{className:"mb-0 text-end",children:Object(b.jsxs)("span",{className:"fw-bold",children:[parseInt(e.price).toLocaleString()," z\u0142"]})}),Object(b.jsx)(o.b,{to:"/announcement/".concat(e.id),className:"btn btn-".concat(t.theme," btn-sm"),children:"Poka\u017c"})]})]})})]})})})}function w(e){return e.announcements.map((function(e){return Object(b.jsx)(N,Object(y.a)({},e),e.id)}))}var k=a(24),z=a.n(k),M=z.a.create({baseURL:"https://track-accessories-default-rtdb.europe-west1.firebasedatabase.app/"}),S=function(e){var t=[];for(var a in e){var c=Object(y.a)(Object(y.a)({},e[a]),{},{id:a});t.push(c)}return t};function C(e){var t=function(e){document.title=e};return e&&t(e),t}function V(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!0),r=Object(i.a)(s,2),o=r[0],d=r[1],j=Object(l.h)().term;C("Wyszukiwanie: ".concat(j));var u=function(){var e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,M.get("/announcements.json");case 4:t=e.sent,a=S(t.data).filter((function(e){return e.title.toLowerCase().includes(j.toLowerCase())})),n(a),d(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response),d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){u()}),[j]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"bg-light",children:Object(b.jsx)("div",{className:"container",children:o?Object(b.jsx)(f,{}):0===a.length?Object(b.jsx)("div",{className:"alert alert-danger",children:"Niestety nic nie znaleziono"}):Object(b.jsx)(w,{announcements:a})})})})}var I=a(16);function L(){return F.apply(this,arguments)}function F(){return(F=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/announcements.json");case 2:return t=e.sent,a=S(t.data),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!0),r=Object(i.a)(s,2),l=r[0],o=r[1];C("Trackdays");var d=function(){var e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,L();case 4:t=e.sent,a=Object(I.a)(t).filter((function(e){return"trackday"===e.category})),n(a),o(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[]),Object(b.jsx)("div",{className:"container",children:l?Object(b.jsx)(f,{}):0===a.length?Object(b.jsx)("div",{className:"alert alert-warning",children:Object(b.jsx)("p",{className:"mb-0",children:"Aktualnie brak og\u0142osze\u0144 w kategorii trackdays"})}):Object(b.jsx)(w,{announcements:a})})}function T(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!0),r=Object(i.a)(s,2),l=r[0],o=r[1];C("Opony");var d=function(){var e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,L();case 4:t=e.sent,a=Object(I.a)(t).filter((function(e){return"tires"===e.category})),n(a),o(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[]),Object(b.jsx)("div",{className:"container",children:l?Object(b.jsx)(f,{}):0===a.length?Object(b.jsx)("div",{className:"alert alert-warning",children:Object(b.jsx)("p",{className:"mb-0",children:"Aktualnie brak og\u0142osze\u0144 w kategorii opony"})}):Object(b.jsx)(w,{announcements:a})})}function D(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!0),r=Object(i.a)(s,2),l=r[0],o=r[1];C("Motocykle");var d=function(){var e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:t=e.sent,a=Object(I.a)(t).filter((function(e){return"motorcycles"===e.category})),n(a),o(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),o(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[]),Object(b.jsx)("div",{className:"container",children:l?Object(b.jsx)(f,{}):0===a.length?Object(b.jsx)("div",{className:"alert alert-warning",children:Object(b.jsx)("p",{className:"mb-0",children:"Aktualnie brak og\u0142osze\u0144 w kategorii motocykle"})}):Object(b.jsx)(w,{announcements:a})})}var E=a(20);var q={required:function(e){return e?"":"Pole wymagane"},email:function(e){return function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(e)?"":"Nieprawid\u0142owy email"},password:function(e){return e.length>5?"":"Minimum 6 znak\xf3w"},phone:function(e){return function(e){return/^(((?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-8]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}))$/.test(String(e).toLowerCase())}(e)?"":"Nieprawid\u0142owy numer"},length:function(e,t){return e.length<=t.length?"":"Maxymalna ilo\u015b\u0107 znak\xf3w to: ".concat(t.length)}};function P(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=0;a<t.length;a++){var c=t[a];if(c instanceof Object){var n=q[c.rule](e,c);if(n)return n}else{var s=q[c](e);if(s)return s}}return""}function R(e){var t=Object(c.useContext)(d).state;return e.loading?Object(b.jsxs)("button",{className:"btn btn-".concat(t.theme),type:"button",disabled:!0,children:[Object(b.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"\u0141adowannie..."]}):Object(b.jsx)("button",{className:"btn btn-".concat(t.theme),disabled:!!e.disabled&&e.disabled,children:e.title})}function U(e){var t=Object(c.useState)({email:{value:e.email?e.email:"",rules:["required","email"],isValid:!!e.email,errorMessage:""},password:{value:"",rules:["required","password"],isValid:!1,errorMessage:""}}),a=Object(i.a)(t,2),n=a[0],s=a[1],r=!(2===Object.values(n).filter((function(e){return e.isValid})).length),l=function(){var t=Object(g.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.onSubmitFormHandler({email:n.email.value,password:n.password.value});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(e,t){var a=P(e,n[t].rules);s(Object(y.a)(Object(y.a)({},n),{},Object(E.a)({},t,Object(y.a)(Object(y.a)({},n[t]),{},{value:e,isValid:!a,errorMessage:a}))))};return Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12 col-md-8 col-lg-6 mx-auto",children:Object(b.jsxs)("div",{className:"card my-2 ",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("p",{className:"mb-0",children:e.formName})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:l,children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"email-login",className:"form-label",children:"Email"}),Object(b.jsx)("input",{type:"email",className:"form-control ".concat(n.email.isValid?"is-valid":""," ").concat(n.email.errorMessage?"is-invalid":""),id:"email-login",placeholder:"name@example.com",value:n.email.value,onChange:function(e){return o(e.target.value,"email")}}),Object(b.jsx)("div",{className:"invalid-feedback",children:n.email.errorMessage})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"password-login",className:"form-label",children:"Has\u0142o"}),Object(b.jsx)("input",{type:"password",className:"form-control ".concat(n.password.isValid?"is-valid":""," ").concat(n.password.errorMessage?"is-invalid":""),id:"password-login",value:n.password.value,onChange:function(e){return o(e.target.value,"password")}}),Object(b.jsx)("div",{className:"invalid-feedback",children:n.password.errorMessage})]}),Object(b.jsx)(R,{title:e.btnTitle,loading:e.loading,disabled:r})]})})]})})})}var W=z.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1/",params:{key:"AIzaSyAmylA27IvPyCvGiWo6U4i0Ifl0pUM5FMk"}});function B(){var e=u(),t=Object(i.a)(e,2),a=(t[0],t[1]),n=Object(c.useState)(""),s=Object(i.a)(n,2),r=s[0],o=s[1],d=Object(c.useState)(!1),j=Object(i.a)(d,2),m=j[0],h=j[1],p=Object(l.g)();C("Logowanie");var x=function(){var e=Object(g.a)(v.a.mark((function e(t){var c,n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.email,n=t.password,o(""),h(!0),e.prev=3,e.next=6,W.post("/accounts:signInWithPassword",{email:c,password:n});case 6:s=e.sent,a(s.data),h(!1),p.push("/"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),h(!1),r=e.t0.response.data.error.message,o("EMAIL_NOT_FOUND"===r?"Brak adresu email w bazie":"INVALID_PASSWORD"===r?"Nieprawid\u0142owe has\u0142o":"USER_DISABLED"===r?"Konto u\u017cytkownika zosta\u0142o zdezaktywowane, prosimy o kontakt":"Wyst\u0105pi\u0142 problem z logowaniem. Spr\xf3buj p\xf3\u017aniej");case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"container",children:[r?Object(b.jsx)("div",{className:"alert alert-danger my-2 text-center",children:r}):null,Object(b.jsx)(U,{onSubmitFormHandler:function(e){return x(e)},btnTitle:"Zaloguj",formName:"Logowanie",loading:m})]})}var H=a.p+"static/media/bike2.25e2bb5c.jpg",K=[{id:1,title:"Motocykl Honda 2002 rok",city:"Warszawa",price:"15 000 z\u0142",date:"wczoraj 15:00",image:H,category:"motorcycles",promoted:!1},{id:2,title:"Opona torowa",city:"Bydgoszcz",price:"200 z\u0142",date:"dzisiaj 11:12",image:H,category:"tires",promoted:!0},{id:3,title:"Trackday Silesiaring 19-20.07",city:"Kamie\u0144 \u015al\u0105ski",price:"1 150 z\u0142",date:"24.06 01:07",image:H,category:"tickets",promoted:!1},{id:4,title:"Trackday Brno 12-15.08",city:"Brno, Czechy",price:"1 550 z\u0142",date:"01.07 22:27",image:H,category:"tickets",promoted:!0},{id:5,title:"Opona torowa Metzeler! Nowa",city:"Katowice",price:"500 z\u0142",date:"dzisiaj 16:45",image:H,category:"tires",promoted:!0},{id:6,title:"Motocykl Kawasaki 2012 rok",city:"Radom",price:"21 000 z\u0142",date:"21.07 18:19",image:H,category:"motorcycles",promoted:!1},{id:7,title:"Motocykl Suzuki dl-650 2019 rok",city:"Wadowice",price:"35 000 z\u0142",date:"17.06 12:17",image:H,category:"motorcycles",promoted:!0}],_=function(e,t){switch(t.type){case"login":return Object(y.a)(Object(y.a)({},e),{},{user:t.user});case"logout":return Object(y.a)(Object(y.a)({},e),{},{user:null})}},Z={user:window.localStorage.getItem("user")?JSON.parse(window.localStorage.getItem("user")):null,theme:"info",announcements:K};function G(){var e=u(),t=Object(i.a)(e,2),a=(t[0],t[1]),n=Object(c.useState)(!1),s=Object(i.a)(n,2),r=s[0],o=s[1],d=Object(c.useState)(""),j=Object(i.a)(d,2),m=j[0],h=j[1],p=Object(l.g)();C("Rejestracja");var x=function(){var e=Object(g.a)(v.a.mark((function e(t){var c,n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.email,n=t.password,h(""),o(!0),e.prev=3,e.next=6,W.post("/accounts:signUp",{email:c,password:n,returnSecureToken:!0,name:"Jan"});case 6:s=e.sent,console.log(s),a(s.data),o(!1),p.push("/"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),o(!1),r=e.t0.response.data.message,h("EMAIL_EXISTS"===r?"Adres email jest ju\u017c u\u017cywany przez inne konto":"TOO_MANY_ATTEMPTS_TRY_LATER"===r?"Konto u\u017cytkownika zosta\u0142o zablokowane z powodu zbyt wielu pr\xf3b nieudanego logowania, prosz\u0119 spr\xf3bowa\u0107 ponownie p\xf3\u017aniej":"Wyst\u0105pi\u0142 problem z logowaniem. Spr\xf3buj p\xf3\u017aniej");case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"container",children:[m?Object(b.jsx)("div",{className:"alert alert-danger my-2 text-center",children:m}):null,Object(b.jsx)(U,{onSubmitFormHandler:function(e){return x(e)},btnTitle:"Zarejestruj",formName:"Rejestracja",loading:r})]})}function J(e){return Object(c.useContext)(j).user?Object(b.jsx)(l.b,Object(y.a)({},e)):Object(b.jsx)(l.a,{to:"/"})}function Y(e){return Object(c.useContext)(j).user?Object(b.jsx)(l.a,{to:"/"}):Object(b.jsx)(l.b,Object(y.a)({},e))}function $(){var e=u(),t=Object(i.a)(e,1)[0],a=Object(c.useState)([]),n=Object(i.a)(a,2),s=n[0],r=n[1],l=Object(c.useState)(!0),d=Object(i.a)(l,2),j=d[0],m=d[1];C("Moje og\u0142oszenia");var h=function(){var e=Object(g.a)(v.a.mark((function e(){var a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,L();case 4:a=e.sent,c=Object(I.a)(a).filter((function(e){return e.userId===t.localId})),r(c),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.respone),m(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.delete("/announcements/".concat(t,".json"));case 3:a=Object(I.a)(s).filter((function(e){return e.id!==t})),r(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){h()}),[]),Object(b.jsx)("div",{className:"container my-2",children:j?Object(b.jsx)(f,{}):0!==s.length?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{children:"Moje og\u0142oszenia:"}),Object(b.jsx)("div",{className:"table-responsive",children:Object(b.jsxs)("table",{className:"table text-center",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{className:"table-secondary ",children:[Object(b.jsx)("th",{className:"text-start",scope:"col",style:{width:"75%"},children:"Tytu\u0142"}),Object(b.jsx)("th",{scope:"col",style:{width:"10%"},className:"d-none d-sm-table-cell",children:"Promowane"}),Object(b.jsx)("th",{scope:"col",className:"text-end",style:{width:"15%",minWidth:"140px"},children:"Zarz\u0105dzaj"})]})}),Object(b.jsx)("tbody",{children:s.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-start",children:e.title}),Object(b.jsx)("td",{className:"d-none d-sm-table-cell",children:"1"===e.promoted?Object(b.jsx)("span",{className:"badge bg-success",children:"Tak"}):Object(b.jsx)("span",{className:"badge bg-secondary",children:"Nie"})}),Object(b.jsxs)("td",{className:"text-end",children:[Object(b.jsx)(o.b,{to:"/edit/".concat(e.id),className:"btn btn-warning btn-sm me-2",children:"Edytuj"}),Object(b.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return p(e.id)},children:"Usu\u0144"})]})]},e.id)}))})]})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"alert alert-warning",children:"Aktualnie brak og\u0142osze\u0144"}),Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)(o.c,{className:"btn btn-outline-info ",to:"/newAnnouncement",children:"Dodaj og\u0142oszenie"})})]})})}function Q(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),l=Object(i.a)(r,2),o=l[0],j=l[1],u=Object(c.useContext)(d).state;return Object(b.jsx)("div",{className:"container my-2",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-8",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("div",{className:"card",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"position-relative",style:{width:"100%",height:"450px"},children:Object(b.jsx)("div",{className:"rounded",style:{background:"url(".concat(e.photo,")"),backgroundSize:"cover",backgroundPosition:"center",position:"absolute",top:0,left:0,right:0,bottom:0}})})})})}),Object(b.jsx)("div",{className:"col-12 mt-2",children:Object(b.jsx)("div",{className:"card",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("h5",{children:e.title})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("p",{className:"mb-0",children:["Cena:",Object(b.jsxs)("span",{className:"fw-bold",children:[parseInt(e.price).toLocaleString()," z\u0142"]}),e.negotiable?Object(b.jsx)("span",{className:"text-muted",children:Object(b.jsx)("small",{children:", do negocjacji"})}):null]})}),Object(b.jsxs)("div",{className:"col-12 d-flex",children:[Object(b.jsx)("p",{className:"border border-".concat(u.theme," my-2 me-2"),style:{padding:"2px 10px 2px 10px",borderRadius:"4px"},children:"tires"===e.category?"Opony":"trackday"===e.category?"Trackday":"Motocykle"}),"1"===e.promoted?Object(b.jsx)("p",{className:"border border-".concat(u.theme," my-2"),style:{padding:"2px 10px 2px 10px",borderRadius:"4px"},children:"Promowane"}):null]}),Object(b.jsxs)("div",{className:"col-12 my-2",children:[Object(b.jsx)("h6",{children:"Opis:"}),Object(b.jsx)("p",{className:"mb-0",children:e.description})]}),Object(b.jsxs)("div",{className:"col-12 d-flex flex-column flex-sm-row align-items-start justify-content-between align-items-sm-center border-top pt-2",children:[Object(b.jsxs)("p",{className:"mb-0",style:{fontSize:"12px"},children:["ID: ",Object(b.jsx)("span",{className:"fw-bold",children:e.id})]}),Object(b.jsx)("p",{className:"mb-0",children:Object(b.jsxs)("small",{children:["Utworzono: ",e.date]})})]})]})})})})]})}),Object(b.jsx)("div",{className:"col-12 col-md-4 mt-2 mt-md-0",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h6",{className:"fw-bold",children:"Kontakt"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12 d-flex align-items-center my-2",children:[Object(b.jsx)("div",{children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-telephone-fill",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})})}),Object(b.jsx)("div",{className:"ms-2 d-flex align-items-center",children:n?Object(b.jsx)("p",{className:"mb-0",children:parseInt(e.phone).toLocaleString()}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{className:"mb-0",children:"xxx xxx xxx"}),Object(b.jsx)("button",{className:"btn btn-outline-primary btn-sm ms-2",onClick:function(){return s(!0)},children:"Poka\u017c"})]})})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12 d-flex align-items-center my-2",children:[Object(b.jsx)("div",{children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-envelope-fill",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"})})}),Object(b.jsx)("div",{className:"ms-2 d-flex align-items-center",children:o?Object(b.jsx)("p",{className:"mb-0",children:e.email}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{className:"mb-0",children:"xxxxxxxxx"}),Object(b.jsx)("button",{className:"btn btn-outline-primary btn-sm ms-2",onClick:function(){return j(!0)},children:"Poka\u017c"})]})})]})})]})})}),Object(b.jsx)("div",{className:"col-12 mt-2",children:Object(b.jsx)("div",{className:"card",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("h6",{className:"fw-bold",children:"Lokalizacja"})}),Object(b.jsxs)("div",{className:"col-12 d-flex my-2",children:[Object(b.jsx)("div",{children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})}),Object(b.jsx)("div",{className:"ms-2",children:Object(b.jsx)("p",{className:"mb-0",children:e.city})})]}),Object(b.jsx)("div",{className:"col-12 ",children:Object(b.jsx)("iframe",{width:"100%",height:"300px",style:{border:0},loading:"lazy",allowFullScreen:!0,src:"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyAcRSQivfWrj5mYvP3jKEF9-22cW9jIoCU","&q=").concat(e.city)})})]})})})})]})})]})})}function X(){var e=Object(l.h)().id,t=Object(c.useState)({}),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!0),o=Object(i.a)(r,2),d=o[0],j=o[1],u=C(),m=function(){var t=Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.get("/announcements/".concat(e,".json"));case 3:a=t.sent,s(a.data),j(!1),u(a.data.title),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.response),j(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){m()}),[]),d?Object(b.jsx)(f,{}):Object(b.jsx)(Q,Object(y.a)(Object(y.a)({},n),{},{id:e}))}var ee=a.p+"static/media/tire.572e8354.jpg",te=a.p+"static/media/bike.38376db4.jpg",ae=a.p+"static/media/ticket.d6771080.png";function ce(e){return Object(b.jsx)("div",{className:"col-12 col-sm-4 d-flex flex-column align-items-center justify-content-center",children:Object(b.jsxs)(o.b,{to:e.path,className:"btn shadow-none link-secondary",children:[Object(b.jsx)("div",{className:"rounded-circle overflow-hidden  d-flex align-items-center justify-content-center",style:{width:"150px",height:"150px"},children:Object(b.jsx)("img",{src:e.image,alt:"",style:{minWidth:"100%",minHeight:"100%"}})}),Object(b.jsx)("h5",{className:"my-2",children:e.title})]})})}function ne(){var e=[{id:1,title:"Trackday",image:ae,path:"/tickets"},{id:2,title:"Opony",image:ee,path:"/tires"},{id:3,title:"Motocykle",image:te,path:"/motorcycles"}];return Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"container my-2",children:[Object(b.jsx)("h3",{className:"text-center py-3",children:"Kategorie"}),Object(b.jsx)("div",{className:"row py-2 justify-content-evenly",children:e.map((function(e){return Object(b.jsx)(ce,Object(y.a)({},e),e.id)}))})]})})}function se(e){var t=Object(c.useContext)(d).state;return Object(b.jsx)("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3 my-1",children:Object(b.jsxs)("div",{className:"card",style:{height:"100%"},children:[Object(b.jsx)("div",{className:"rounded-top overflow-hidden",children:Object(b.jsx)("div",{className:"position-relative",style:{width:"100%",height:"150px"},children:Object(b.jsx)("div",{className:"position-absolute ",style:{background:"url(".concat(e.photo,")"),backgroundPosition:"center",backgroundSize:"cover",top:0,left:0,right:0,bottom:0}})})}),Object(b.jsxs)("div",{className:"card-body d-flex flex-column justify-content-between",style:{flexGrow:1},children:[Object(b.jsx)("div",{style:{minHeight:"60px"},children:Object(b.jsx)("p",{className:"card-text mb-0 fw-bold",children:e.title})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-muted text-start mb-0",children:Object(b.jsxs)("small",{children:["Dodano: ",e.date.slice(0,10),", ",e.city]})}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("p",{className:"fs-6 fw-bold mb-0",children:[parseInt(e.price).toLocaleString()," z\u0142 ",e.negotiable?Object(b.jsx)("small",{className:"text-muted fw-normal",children:", do negocjacji"}):null]})}),Object(b.jsx)(o.b,{to:"/announcement/".concat(e.id),className:"btn btn-".concat(t.theme," btn-sm ms-auto"),children:"Poka\u017c"})]})]})]})]})})}function re(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],s=function(){var e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:t=e.sent,a=Object(I.a)(t).filter((function(e){return e.promoted})).splice(0,4),n(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[]),Object(b.jsx)("section",{className:"bg-light",children:Object(b.jsxs)("div",{className:"container my-2",children:[Object(b.jsx)("h3",{className:"text-center py-3",children:"Promowane og\u0142oszenia"}),Object(b.jsx)("div",{className:"row",children:a.map((function(e){return Object(b.jsx)(se,Object(y.a)({},e),e.id)}))})]})})}function ie(){return C("Strona g\u0142\xf3wna"),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{}),Object(b.jsx)(ne,{}),Object(b.jsx)(re,{})]})}var le=function(e){return Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("label",{htmlFor:"".concat(e.name,"-").concat(e.type),className:"form-label",children:e.label}),Object(b.jsx)("input",{type:e.type,className:"form-control ".concat(e.isValid?"is-valid":""," ").concat(e.errorMessage?"is-invalid":""),id:"".concat(e.name,"-").concat(e.type),value:e.value,onChange:function(t){return e.onChange(t.target.value)}}),Object(b.jsx)("div",{className:"invalid-feedback",children:e.errorMessage})]})},oe=function(e){return Object(b.jsx)("select",{className:"form-select ".concat(e.isValid?"is-valid":""," ").concat(e.errorMessage?"is-invalid":""),"aria-label":e.name,value:e.value,onChange:function(t){return e.onChange(t.target.value)},children:e.options.map((function(e){return Object(b.jsx)("option",{value:e.value,children:e.label},e.value)}))})},de=function(e){return Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"".concat(e.name,"-").concat(e.type),className:"form-label",children:e.label}),Object(b.jsx)("textarea",{className:"form-control ".concat(e.isValid?"is-valid":""," ").concat(e.errorMessage?"is-invalid":""),id:"".concat(e.name,"-").concat(e.type),value:e.value,onChange:function(t){return e.onChange(t.target.value)},rows:"5"})]})},je=function(e){return e.options.map((function(t){return Object(b.jsxs)("div",{className:"form-check",children:[Object(b.jsx)("input",{className:"form-check-input",type:"radio",name:e.name,id:"".concat(e.name,"-").concat(t.value),checked:e.value.includes(t.value),onChange:function(t){return e.onChange(t.target.value)},value:t.value}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"".concat(e.name,"-").concat(t.value),children:t.label})]},t.value)}))},ue=function(e){var t=Object(c.useRef)(),a=Object(c.useContext)(d).state;return Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("input",{accept:"image/*",ref:t,type:"file",className:"form-control",id:"inputGroupFile04","aria-describedby":"input-".concat(e.name),"aria-label":"Upload",required:!0}),e.loading?Object(b.jsxs)("button",{className:"btn btn-".concat(a.theme),type:"button",disabled:!0,children:[Object(b.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"\u0141adowannie..."]}):Object(b.jsx)("button",{className:"btn btn-outline-".concat(a.theme," ").concat(e.invalidMessage?"is-invalid":""," ").concat(e.validMessage?"is-valid":""),type:"button",id:"input-".concat(e.name),onClick:function(a){a.preventDefault(),e.onChange(t.current.files[0])},children:"Dodaj"}),Object(b.jsx)("div",{className:"valid-feedback",children:e.validMessage}),Object(b.jsx)("div",{className:"invalid-feedback",children:e.invalidMessage})]})},be=function(e){return Object(b.jsxs)("div",{className:"form-check form-switch",children:[Object(b.jsx)("input",{className:"form-check-input",type:"checkbox",id:"announcement-".concat(e.name),checked:e.value,onChange:function(){return e.onChange(!e.value)}}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"announcement-".concat(e.name),children:e.label})]})};function me(e){switch(e.type){case"text":return Object(b.jsx)(le,Object(y.a)({},e));case"checkbox":return Object(b.jsx)(be,Object(y.a)({},e));case"email":return Object(b.jsx)(le,Object(y.a)(Object(y.a)({},e),{},{type:"email"}));case"number":return Object(b.jsx)(le,Object(y.a)(Object(y.a)({},e),{},{type:"number"}));case"select":return Object(b.jsx)(oe,Object(y.a)({},e));case"textarea":return Object(b.jsx)(de,Object(y.a)({},e));case"radio":return Object(b.jsx)(je,Object(y.a)({},e));case"file":return Object(b.jsx)(ue,Object(y.a)({},e));default:return}}var he=a(30);a(103),a(99);he.a.initializeApp({apiKey:"AIzaSyAmylA27IvPyCvGiWo6U4i0Ifl0pUM5FMk",authDomain:"track-accessories.firebaseapp.com",projectId:"track-accessories",storageBucket:"track-accessories.appspot.com",messagingSenderId:"658273541573",appId:"1:658273541573:web:cdfd2bf07ed011eb30ffac",databaseURL:"https://track-accessories-default-rtdb.europe-west1.firebasedatabase.app/"});var pe=he.a;function xe(e){var t=u(),a=Object(i.a)(t,1)[0],n=Object(c.useState)(!1),s=Object(i.a)(n,2),r=s[0],o=s[1],d=Object(c.useState)(!1),j=Object(i.a)(d,2),m=j[0],h=j[1],p=Object(l.g)(),x=Object(c.useState)({title:{value:"",errorMessage:"",isValid:!1,rules:["required",{rule:"length",length:100}]},city:{value:"",errorMessage:"",isValid:!1,rules:["required"]},price:{value:"",errorMessage:"",isValid:!1,rules:["required"]},category:{value:"tires",errorMessage:"",isValid:!0},description:{value:"",errorMessage:"",isValid:!1,rules:["required"]},promoted:{value:"0",errorMessage:"",isValid:!0},email:{value:"",errorMessage:"",isValid:!1,rules:["required","email"]},phone:{value:"",errorMessage:"",isValid:!1,rules:["required","phone"]},name:{value:"",errorMessage:"",isValid:!1,rules:["required"]},photo:{url:e.announcement?e.announcement.photo:"",isValid:!1,invalidMessage:"",validMessage:"",rules:[]},negotiable:{value:!1,isValid:!0,rules:[]}}),O=Object(i.a)(x,2),f=O[0],N=O[1],w=function(e,t){var a=P(e,f[t].rules);N(Object(y.a)(Object(y.a)({},f),{},Object(E.a)({},t,Object(y.a)(Object(y.a)({},f[t]),{},{value:e,isValid:!a,errorMessage:a}))))},k=function(){var t=Object(g.a)(v.a.mark((function t(c){var n,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),n=new Date,o(!0),t.prev=3,s={title:f.title.value,city:f.city.value,price:f.price.value,category:f.category.value,description:f.description.value,promoted:f.promoted.value,email:f.email.value,phone:f.phone.value,name:f.name.value,photo:f.photo.url,negotiable:f.negotiable.value,userId:a.localId},e.announcement||(s.date=n.toLocaleString()),t.next=8,e.onSubmit(s);case 8:o(!1),p.push("/profile/announcements/".concat(a.localId)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),o(!1),console.log(t.t0.response);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){!function(){if(e.announcement){var t=Object(y.a)({},e.announcement),a=Object(y.a)({},f);for(var c in delete t.userId,delete t.date,t)"photo"!==c&&(a[c].value=t[c],a[c].isValid=!0);a.photo.url=e.announcement.photo,a.photo.isValid=!0,N(a)}}()}),[e.announcement]);var z=!(0===Object.values(f).filter((function(e){return!e.isValid})).length);return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"card my-2",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h4",{children:e.title})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:k,className:"my-2",children:[Object(b.jsx)(me,{type:"text",label:"Tytu\u0142",name:"title-announcement",isValid:f.title.isValid,errorMessage:f.title.errorMessage,value:f.title.value,onChange:function(e){return w(e,"title")}}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)(me,{type:"number",label:"Cena",name:"price-announcement",isValid:f.price.isValid,errorMessage:f.price.errorMessage,value:f.price.value,onChange:function(e){return w(e,"price")}})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("p",{className:"mb-2",children:"Kategoria"}),Object(b.jsx)(me,{type:"select",name:"category-announcement",options:[{label:"Trackday",value:"trackday"},{label:"Opony",value:"tires"},{label:"Motocykle",value:"motorcycles"}],isValid:f.category.isValid,errorMessage:f.category.errorMessage,value:f.category.value,onChange:function(e){return w(e,"category")}})]})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)(me,{type:"checkbox",name:"negotiable-announcement",label:"Cena do negocjacji",value:f.negotiable.value,onChange:function(e){return w(e,"negotiable")}})})]}),e.announcement?null:Object(b.jsxs)("div",{className:"my-2",children:[Object(b.jsx)("p",{className:"mb-2",children:"Dodaj zdj\u0119cie"}),Object(b.jsx)(me,{type:"file",name:"photo-announcement",onChange:function(e){return function(e){if(h(!0),N(Object(y.a)(Object(y.a)({},f),{},{photo:Object(y.a)(Object(y.a)({},f.photo),{},{url:"",isValid:!1,invalidMessage:"",validMessage:""})})),void 0===e)return N(Object(y.a)(Object(y.a)({},f),{},{photo:Object(y.a)(Object(y.a)({},f.photo),{},{isValid:!1,invalidMessage:"Nie wybrano zdj\u0119cia !"})})),void h(!1);var t=e,a=pe.storage().ref("".concat("images","/").concat(t.name)).put(t);a.on("state_changed",(function(e){}),(function(e){console.log(e),N(Object(y.a)(Object(y.a)({},f),{},{photo:Object(y.a)(Object(y.a)({},f.photo),{},{isValid:!1,invalidMessage:"Co\u015b posz\u0142o nie tak, pr\xf3buj jeszcze raz",validMessage:""})})),h(!1)}),(function(){a.snapshot.ref.getDownloadURL().then((function(e){N(Object(y.a)(Object(y.a)({},f),{},{photo:Object(y.a)(Object(y.a)({},f.photo),{},{url:e,isValid:!0,validMessage:"zdj\u0119cie zosta\u0142o dodane",invalidMessage:""})})),h(!1)}))}))}(e)},loading:m,invalidMessage:f.photo.invalidMessage,validMessage:f.photo.validMessage,isValid:f.photo.isValid}),Object(b.jsx)("p",{className:"text-muted",children:Object(b.jsx)("small",{children:"*aby doda\u0107 og\u0142oszenie musisz doda\u0107 zdj\u0119cie"})})]}),Object(b.jsx)(me,{type:"textarea",label:"Opis produktu",name:"description-announcement",isValid:f.description.isValid,errorMessage:f.description.errorMessage,value:f.description.value,onChange:function(e){return w(e,"description")}}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-sm-6",children:Object(b.jsx)(me,{type:"text",label:"Imi\u0119",name:"name-announcement",isValid:f.name.isValid,errorMessage:f.name.errorMessage,value:f.name.value,onChange:function(e){return w(e,"name")}})}),Object(b.jsx)("div",{className:"col-12 col-sm-6",children:Object(b.jsx)(me,{type:"text",label:"Telefon",name:"phone-announcement",isValid:f.phone.isValid,errorMessage:f.phone.errorMessage,value:f.phone.value,onChange:function(e){return w(e,"phone")}})}),Object(b.jsx)("div",{className:"col-12 col-sm-6",children:Object(b.jsx)(me,{type:"email",label:"Email",name:"email-announcement",isValid:f.email.isValid,errorMessage:f.email.errorMessage,value:f.email.value,onChange:function(e){return w(e,"email")}})}),Object(b.jsx)("div",{className:"col-12 col-sm-6",children:Object(b.jsx)(me,{type:"text",label:"Miasto",name:"city-announcement",isValid:f.city.isValid,errorMessage:f.city.errorMessage,value:f.city.value,onChange:function(e){return w(e,"city")}})})]}),Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("p",{className:"mb-2",children:"Og\u0142oszenie promowane"}),Object(b.jsx)(me,{type:"radio",name:"promoted-announcement",options:[{value:"1",label:"Tak"},{value:"0",label:"Nie"}],value:f.promoted.value,onChange:function(e){return w(e,"promoted")}})]}),Object(b.jsx)(R,{title:e.btnLabel,disabled:z,loading:r})]})})]})})}function Oe(){var e=Object(l.h)().id,t=Object(c.useState)({}),a=Object(i.a)(t,2),n=a[0],s=a[1],r=function(){var t=Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.get("/announcements/".concat(e,".json"));case 2:a=t.sent,s(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){r()}),[e]);var o=function(){var t=Object(g.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.patch("/announcements/".concat(e,".json"),a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(xe,{btnLabel:"Aktualizuj",title:"Edytuj og\u0142oszenie",onSubmit:function(e){return o(e)},announcement:n})})}function ve(){var e=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post("/announcements.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(xe,{btnLabel:"Dodaj og\u0142oszenie",title:"Dodaj nowe og\u0142oszenie",onSubmit:function(t){return e(t)}})})}var ge=function(){var e=u(),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(),r=Object(i.a)(s,2),o=r[0],d=r[1],j=Object(l.g)(),m=function(){var e=Object(g.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,W.post("/accounts:update/",{idToken:a.token,email:t.email,password:t.password,returnSecureToken:!0});case 4:c=e.sent,n(c.data),d(!1),j.push("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),d(!1),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(U,{loading:o,email:a.email,formName:"Aktualizuj dane u\u017cytkownika",btnTitle:"Aktualizuj",onSubmitFormHandler:function(e){return m(e)}})})})};var fe=function(){var e=Object(c.useReducer)(_,Z),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(m,{})}),r=Object(b.jsxs)(l.d,{children:[Object(b.jsx)(J,{path:"/edit/:id",component:Oe}),Object(b.jsx)(J,{path:"/newAnnouncement",component:ve}),Object(b.jsx)(J,{path:"/profile/update",component:ge}),Object(b.jsx)(J,{path:"/profile/announcements/:localId?",component:$}),Object(b.jsx)(Y,{path:"/registration",component:G}),Object(b.jsx)(Y,{path:"/login",component:B}),Object(b.jsxs)(l.b,{path:"/motorcycles",children:[Object(b.jsx)(h,{}),Object(b.jsx)(D,{})]}),Object(b.jsx)(l.b,{path:"/announcement/:id",component:X}),Object(b.jsxs)(l.b,{path:"/tires",children:[Object(b.jsx)(h,{}),Object(b.jsx)(T,{})]}),Object(b.jsxs)(l.b,{path:"/tickets",children:[Object(b.jsx)(h,{}),Object(b.jsx)(A,{})]}),Object(b.jsxs)(l.b,{path:"/search/:term?",children:[Object(b.jsx)(h,{}),Object(b.jsx)(V,{})]}),Object(b.jsx)(l.b,{exact:!0,path:"/",component:ie})]}),u=Object(b.jsx)(p,{});return Object(b.jsx)(j.Provider,{value:{user:a.user,login:function(e){return n({type:"login",user:e})},logout:function(){return n({type:"logout"})}},children:Object(b.jsx)(d.Provider,{value:{state:a,dispatch:n},children:Object(b.jsx)(o.a,{children:Object(b.jsx)(x,{header:s,content:r,footer:u})})})})},ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,104)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(fe,{})}),document.getElementById("root")),ye()},51:function(e,t,a){},52:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.26258c4b.chunk.js.map