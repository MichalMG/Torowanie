(this.webpackJsonpolx=this.webpackJsonpolx||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(45),r=a.n(s),i=(a(51),a(5)),o=(a(52),a(53),a(54),a(8)),l=a(9),d=c.a.createContext({auth:!1,login:function(){},logout:function(){}});function u(){var e=Object(n.useContext)(d);return[e.user,function(t){t?(window.localStorage.setItem("user",JSON.stringify(t)),console.log(t),e.login(t)):(window.localStorage.removeItem("user"),e.logout())}]}var j=a(0);function b(){var e=u(),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(o.g)();return Object(j.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{children:Object(j.jsx)(l.b,{className:"navbar-brand",to:"/",children:"#Torowanie"})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"collapse navbar-collapse d-flex align-items-center",id:"navbarSupportedContent",children:Object(j.jsx)("ul",{className:"navbar-nav ms-auto",children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-person-fill me-2",viewBox:"0 0 16 16",children:Object(j.jsx)("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})}),"M\xf3j profil"]}),Object(j.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(j.jsx)("li",{className:"my-4",children:"Nazwa u\u017cytkownika"}),Object(j.jsx)("li",{children:Object(j.jsx)(l.c,{className:"dropdown-item",to:"/profile/announcements/".concat(a.localId),children:"Og\u0142oszenia"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{className:"dropdown-item",href:"#",children:"Ustawienia"})}),Object(j.jsx)("li",{children:Object(j.jsx)("hr",{className:"dropdown-divider"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"dropdown-item",onClick:function(){n(null),c.push("/")},children:"Wyloguj"})})]})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(l.c,{className:"btn btn-outline-info ms-3",to:"/newAnnouncement",children:"Dodaj og\u0142oszenie"})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(l.c,{className:"nav-link",to:"/login",children:"Zaloguj"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(l.c,{className:"nav-link",to:"/registration",children:"Rejestracja"})})]})})})})]})})}function m(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(o.g)();return Object(j.jsx)("section",{className:"bg-light py-4",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.push("/search/".concat(a))},children:Object(j.jsxs)("div",{className:"p-3 d-flex input-group",children:[Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:Object(j.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})}),Object(j.jsx)("input",{type:"text",className:"form-control shadow-none",placeholder:"wyszukaj...",value:a,onChange:function(e){return c(e.target.value)}}),Object(j.jsx)("button",{type:"submit",className:"btn btn-info ms-2",children:"Wyszukaj"})]})})})})}var p=a(4),h=a.p+"static/media/tire.572e8354.jpg",O=a.p+"static/media/bike.38376db4.jpg",x=a.p+"static/media/ticket.d6771080.png";function v(e){return Object(j.jsx)("div",{className:"col-3 d-flex flex-column align-items-center justify-content-center",children:Object(j.jsxs)(l.b,{to:e.path,className:"btn shadow-none link-secondary",children:[Object(j.jsx)("div",{className:"rounded-circle overflow-hidden  d-flex align-items-center justify-content-center",style:{width:"150px",height:"150px"},children:Object(j.jsx)("img",{src:e.image,alt:"",style:{minWidth:"100%",minHeight:"100%"}})}),Object(j.jsx)("h5",{className:"my-2",children:e.title})]})})}function f(){var e=[{id:1,title:"Trackday",image:x,path:"/tickets"},{id:2,title:"Opony",image:h,path:"/tires"},{id:3,title:"Motocykle",image:O,path:"motorcycles"}];return Object(j.jsx)("section",{children:Object(j.jsxs)("div",{className:"container my-2",children:[Object(j.jsx)("h3",{className:"text-center py-3",children:"Kategorie"}),Object(j.jsx)("div",{className:"row py-2 justify-content-evenly",children:e.map((function(e){return Object(j.jsx)(v,Object(p.a)({},e),e.id)}))})]})})}var g=a(6),y=a.n(g),N=a(7),w=a(14),k=c.a.createContext({state:{},dispatch:function(){}}),M=a(24),z=a.n(M),C=z.a.create({baseURL:"https://track-accessories-default-rtdb.europe-west1.firebasedatabase.app/"}),S=function(e){var t=[];for(var a in e){var n=Object(p.a)(Object(p.a)({},e[a]),{},{id:a});t.push(n)}return t};function V(){return I.apply(this,arguments)}function I(){return(I=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/announcements.json");case 2:return t=e.sent,a=S(t.data),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return Object(j.jsx)("div",{className:"col-3 my-1",children:Object(j.jsxs)("div",{className:"card",style:{height:"100%"},children:[Object(j.jsx)("div",{className:"position-relative overflow-hidden",style:{width:"100%",height:"150px"},children:Object(j.jsx)("div",{className:"position-absolute img-thumbnail",style:{background:"url(".concat(e.photo,")"),backgroundPosition:"center",backgroundSize:"cover",top:0,left:0,right:0,bottom:0}})}),Object(j.jsxs)("div",{className:"card-body d-flex flex-column justify-content-between",style:{flexGrow:1},children:[Object(j.jsx)("p",{className:"card-text",children:e.title}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{className:"text-muted text-end",children:[e.city,", ",e.date]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(j.jsx)("span",{className:"badge bg-secondary fs-6",children:e.price}),Object(j.jsx)("a",{href:"#",className:"btn btn-primary btn-sm",children:"Sprawd\u017a!"})]})]})]})]})})}function q(){var e=Object(n.useContext)(k).state,t=(Object(w.a)(e.announcements).filter((function(e){return e.promoted})),Object(n.useState)([])),a=Object(i.a)(t,2),c=a[0],s=a[1],r=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:t=e.sent,a=Object(w.a)(t).filter((function(e){return e.promoted})).splice(0,4),s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()})),Object(j.jsx)("section",{className:"bg-light",children:Object(j.jsxs)("div",{className:"container my-2",children:[Object(j.jsx)("h3",{className:"text-center py-3",children:"Promowane og\u0142oszenia"}),Object(j.jsx)("div",{className:"row",children:c.map((function(e){return Object(j.jsx)(F,Object(p.a)({},e),e.id)}))})]})})}function T(){return Object(j.jsxs)("footer",{className:"bg-dark text-light",children:[Object(j.jsx)("div",{className:"container text-center py-2",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"display-6",children:"#Torowanie"}),Object(j.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Fugiat, unde error vero omnis explicabo sed. Sequi consequatur sint dolore magnam, voluptatum expedita nobis nam impedit enim sapiente veniam adipisci suscipit. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Doloremque nulla quo iste sapiente, neque eius qui voluptate illum maxime commodi velit tempora animi similique! Enim natus odit fuga ea exercitationem? Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perspiciatis accusantium pariatur natus temporibus autem consequatur ut itaque esse ipsum, error et nobis, odit numquam, repudiandae deleniti expedita. Error, aspernatur illo!"})]})}),Object(j.jsx)("p",{className:"mb-0 py-1 text-center",style:{fontSize:".9rem",backgroundColor:"rgba(255,255,255,.05)"},children:"Copyright by"})]})}function D(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"d-flex flex-column",style:{minHeight:"100vh"},children:[Object(j.jsx)("div",{children:e.header}),Object(j.jsx)("div",{style:{flexGrow:1},children:e.content}),Object(j.jsx)("div",{children:e.footer})]})})}function L(){return Object(j.jsx)("div",{className:"text-center py-4",children:Object(j.jsx)("div",{className:"spinner-grow bg-info",style:{width:"3rem",height:"3rem"},role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}function A(e){var t=Object(n.useContext)(k).state;return Object(j.jsx)("div",{className:"py-2",children:Object(j.jsx)("div",{className:"card mb-3 bg-white",children:Object(j.jsxs)("div",{className:"row g-0",children:[Object(j.jsx)("div",{className:"col-3 col-md-2",children:Object(j.jsx)("img",{src:e.photo,className:"img-fluid rounded-start p-3",style:{width:"100%",height:"auto"},alt:"..."})}),Object(j.jsx)("div",{className:"col-9 col-md-10",children:Object(j.jsxs)("div",{className:"row card-body d-flex justify-content-between",style:{height:"100%"},children:[Object(j.jsxs)("div",{className:"col-8 col-sm-9 d-flex flex-column justify-content-between",children:[Object(j.jsx)("p",{className:"card-text mb-0",children:e.title}),Object(j.jsx)("p",{className:"card-text mb-0",children:e.description}),Object(j.jsx)("p",{className:"card-text mb-0",children:Object(j.jsxs)("small",{className:"text-muted",children:[e.city,", ",e.date]})})]}),Object(j.jsxs)("div",{className:"col-4 col-sm-3 d-flex flex-column justify-content-between",children:[Object(j.jsxs)("p",{className:"mb-0 text-end",children:[e.price," z\u0142"]}),Object(j.jsx)("button",{className:"btn btn-".concat(t.theme," ms-auto"),children:"Poka\u017c"})]})]})})]})})})}function P(e){return e.announcements.map((function(e){return Object(j.jsx)(A,Object(p.a)({},e),e.id)}))}function E(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),r=Object(i.a)(s,2),l=r[0],d=r[1],u=Object(o.h)().term,b=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,C.get("/announcements.json");case 4:t=e.sent,a=S(t.data).filter((function(e){return e.title.toLowerCase().includes(u.toLowerCase())})),c(a),d(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response),d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"bg-light",children:Object(j.jsx)("div",{className:"container",children:l?Object(j.jsx)(L,{}):0===a.length?Object(j.jsx)("div",{className:"alert alert-danger",children:"Niestety nic nie znaleziono"}):Object(j.jsx)(P,{announcements:a})})})})}function U(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),r=Object(i.a)(s,2),o=r[0],l=r[1],d=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,V();case 4:t=e.sent,a=Object(w.a)(t).filter((function(e){return"trackday"===e.category})),c(a),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),Object(j.jsx)("div",{className:"container",children:o?Object(j.jsx)(L,{}):Object(j.jsx)(P,{announcements:a})})}function W(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),r=Object(i.a)(s,2),o=r[0],l=r[1],d=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,V();case 4:t=e.sent,a=Object(w.a)(t).filter((function(e){return"tires"===e.category})),c(a),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),Object(j.jsx)("div",{className:"container",children:o?Object(j.jsx)(L,{}):Object(j.jsx)(P,{announcements:a})})}function R(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),r=Object(i.a)(s,2),o=r[0],l=r[1],d=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:t=e.sent,a=Object(w.a)(t).filter((function(e){return"motorcycles"===e.category})),c(a),l(!1),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),Object(j.jsx)("div",{className:"container",children:o?Object(j.jsx)(L,{}):Object(j.jsx)(P,{announcements:a})})}var B=a(20);var H={required:function(e){return e?"":"Pole wymagane"},email:function(e){return function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(e)?"":"Nieprawid\u0142owy email"},password:function(e){return e.length>5?"":"Minimum 6 znak\xf3w"},phone:function(e){return function(e){return/^(((?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-8]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}))$/.test(String(e).toLowerCase())}(e)?"":"Nieprawid\u0142owy numer"},length:function(e,t){return e.length<=t.length?"":"Maxymalna ilo\u015b\u0107 znak\xf3w to: ".concat(t.length)}};function K(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=0;a<t.length;a++){var n=t[a];if(n instanceof Object){var c=H[n.rule](e,n);if(c)return c}else{var s=H[n](e);if(s)return s}}return""}function Z(e){var t=Object(n.useContext)(k).state;return e.loading?Object(j.jsxs)("button",{className:"btn btn-".concat(t.theme),type:"button",disabled:!0,children:[Object(j.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"\u0141adowannie..."]}):Object(j.jsx)("button",{className:"btn btn-".concat(t.theme),disabled:!!e.disabled&&e.disabled,children:e.title})}function G(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)({email:{value:"",rules:["required","email"],isValid:!1,errorMessage:""},password:{value:"",rules:["required","password"],isValid:!1,errorMessage:""}}),o=Object(i.a)(r,2),l=o[0],d=o[1],u=!(2===Object.values(l).filter((function(e){return e.isValid})).length),b=function(){var t=Object(N.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s(!0),t.next=4,e.onSubmitFormHandler({email:l.email.value,password:l.password.value});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(e,t){var a=K(e,l[t].rules);d(Object(p.a)(Object(p.a)({},l),{},Object(B.a)({},t,Object(p.a)(Object(p.a)({},l[t]),{},{value:e,isValid:!a,errorMessage:a}))))};return Object(j.jsxs)("div",{className:"card my-2 ",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("p",{className:"mb-0",children:e.formName})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("form",{onSubmit:b,children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"email-login",className:"form-label",children:"Email"}),Object(j.jsx)("input",{type:"email",className:"form-control ".concat(l.email.isValid?"is-valid":""," ").concat(l.email.errorMessage?"is-invalid":""),id:"email-login",placeholder:"name@example.com",value:l.email.value,onChange:function(e){return m(e.target.value,"email")}}),Object(j.jsx)("div",{className:"invalid-feedback",children:l.email.errorMessage})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"password-login",className:"form-label",children:"Has\u0142o"}),Object(j.jsx)("input",{type:"password",className:"form-control ".concat(l.password.isValid?"is-valid":""," ").concat(l.password.errorMessage?"is-invalid":""),id:"password-login",placeholder:"******",value:l.password.value,onChange:function(e){return m(e.target.value,"password")}}),Object(j.jsx)("div",{className:"invalid-feedback",children:l.password.errorMessage})]}),Object(j.jsx)(Z,{title:e.btnTitle,loading:c,disabled:u})]})})]})}var J=z.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1/",params:{key:"AIzaSyAmylA27IvPyCvGiWo6U4i0Ifl0pUM5FMk"}});function $(){var e=u(),t=Object(i.a)(e,2),a=(t[0],t[1]),n=Object(o.g)(),c=function(){var e=Object(N.a)(y.a.mark((function e(t){var c,s,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.email,s=t.password,e.prev=1,e.next=4,J.post("/accounts:signInWithPassword",{email:c,password:s});case 4:r=e.sent,a({email:r.data.email,token:r.data.idToken,localId:r.data.localId}),n.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(G,{onSubmitFormHandler:function(e){return c(e)},btnTitle:"Zaloguj",formName:"Logowanie"})})}var _=function(e){return Object(j.jsxs)("div",{className:"mb-2",children:[Object(j.jsx)("label",{htmlFor:"".concat(e.name,"-").concat(e.type),className:"form-label",children:e.label}),Object(j.jsx)("input",{type:e.type,className:"form-control ".concat(e.isValid?"is-valid":""," ").concat(e.errorMessage?"is-invalid":""),id:"".concat(e.name,"-").concat(e.type),value:e.value,onChange:function(t){return e.onChange(t.target.value)}}),Object(j.jsx)("div",{className:"invalid-feedback",children:e.errorMessage})]})},Q=function(e){return Object(j.jsx)("select",{className:"form-select ".concat(e.isValid?"is-valid":""," ").concat(e.errorMessage?"is-invalid":""),"aria-label":e.name,value:e.value,onChange:function(t){return e.onChange(t.target.value)},children:e.options.map((function(e){return Object(j.jsx)("option",{value:e.value,children:e.label},e.value)}))})},X=function(e){return Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"".concat(e.name,"-").concat(e.type),className:"form-label",children:e.label}),Object(j.jsx)("textarea",{className:"form-control ".concat(e.isValid?"is-valid":""," ").concat(e.errorMessage?"is-invalid":""),id:"".concat(e.name,"-").concat(e.type),value:e.value,onChange:function(t){return e.onChange(t.target.value)},rows:"5"})]})},Y=function(e){return e.options.map((function(t){return Object(j.jsxs)("div",{className:"form-check",children:[Object(j.jsx)("input",{className:"form-check-input",type:"radio",name:e.name,id:"".concat(e.name,"-").concat(t.value),checked:e.value.includes(t.value),onChange:function(t){return e.onChange(t.target.value)},value:t.value}),Object(j.jsx)("label",{className:"form-check-label",htmlFor:"".concat(e.name,"-").concat(t.value),children:t.label})]},t.value)}))},ee=function(e){var t=Object(n.useRef)(),a=Object(n.useContext)(k).state;return Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("input",{accept:"image/*",ref:t,type:"file",className:"form-control",id:"inputGroupFile04","aria-describedby":"input-".concat(e.name),"aria-label":"Upload",required:!0}),e.loading?Object(j.jsxs)("button",{className:"btn btn-".concat(a.theme),type:"button",disabled:!0,children:[Object(j.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"\u0141adowannie..."]}):Object(j.jsx)("button",{className:"btn btn-outline-".concat(a.theme," ").concat(e.invalidMessage?"is-invalid":""," ").concat(e.validMessage?"is-valid":""),type:"button",id:"input-".concat(e.name),onClick:function(a){a.preventDefault(),e.onChange(t.current.files[0])},children:"Wy\u015blij"}),Object(j.jsx)("div",{className:"valid-feedback",children:e.validMessage}),Object(j.jsx)("div",{className:"invalid-feedback",children:e.invalidMessage})]})};function te(e){switch(e.type){case"text":return Object(j.jsx)(_,Object(p.a)({},e));case"email":return Object(j.jsx)(_,Object(p.a)(Object(p.a)({},e),{},{type:"email"}));case"number":return Object(j.jsx)(_,Object(p.a)(Object(p.a)({},e),{},{type:"number"}));case"select":return Object(j.jsx)(Q,Object(p.a)({},e));case"textarea":return Object(j.jsx)(X,Object(p.a)({},e));case"radio":return Object(j.jsx)(Y,Object(p.a)({},e));case"file":return Object(j.jsx)(ee,Object(p.a)({},e));default:return}}var ae=a(30);a(103),a(99);ae.a.initializeApp({apiKey:"AIzaSyAmylA27IvPyCvGiWo6U4i0Ifl0pUM5FMk",authDomain:"track-accessories.firebaseapp.com",projectId:"track-accessories",storageBucket:"track-accessories.appspot.com",messagingSenderId:"658273541573",appId:"1:658273541573:web:cdfd2bf07ed011eb30ffac",databaseURL:"https://track-accessories-default-rtdb.europe-west1.firebasedatabase.app/"});var ne=ae.a;function ce(){var e=u(),t=Object(i.a)(e,1)[0],a=Object(n.useState)(!1),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(!1),d=Object(i.a)(l,2),b=d[0],m=d[1],h=Object(o.g)(),O=Object(n.useState)({title:{value:"",errorMessage:"",isValid:!1,rules:["required",{rule:"length",length:100}]},city:{value:"",errorMessage:"",isValid:!1,rules:["required"]},price:{value:"",errorMessage:"",isValid:!1,rules:["required"]},category:{value:"tires",errorMessage:"",isValid:!0},description:{value:"",errorMessage:"",isValid:!1,rules:["required"]},promoted:{value:"0",errorMessage:"",isValid:!0},email:{value:"",errorMessage:"",isValid:!1,rules:["required","email"]},phone:{value:"",errorMessage:"",isValid:!1,rules:["required","phone"]},name:{value:"",errorMessage:"",isValid:!1,rules:["required"]},photo:{url:"",isValid:!1,invalidMessage:"",validMessage:""}}),x=Object(i.a)(O,2),v=x[0],f=x[1],g=function(e,t){var a=K(e,v[t].rules);f(Object(p.a)(Object(p.a)({},v),{},Object(B.a)({},t,Object(p.a)(Object(p.a)({},v[t]),{},{value:e,isValid:!a,errorMessage:a}))))},w=function(){var e=Object(N.a)(y.a.mark((function e(a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),a.preventDefault(),e.prev=2,n={title:v.title.value,city:v.city.value,price:v.price.value,category:v.category.value,description:v.description.value,promoted:v.promoted.value,email:v.email.value,phone:v.phone.value,name:v.name.value,photo:v.photo.url,userId:t.localId},e.next=6,C.post("/announcements.json",n);case 6:r(!1),h.push("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),r(!1),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),k=!(0===Object.values(v).filter((function(e){return!e.isValid})).length);return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"card my-2",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h4",{children:"Dodaj nowe og\u0142oszenie"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("form",{onSubmit:w,className:"my-2",children:[Object(j.jsx)(te,{type:"text",label:"Tytu\u0142",name:"title-announcement",isValid:v.title.isValid,errorMessage:v.title.errorMessage,value:v.title.value,onChange:function(e){return g(e,"title")}}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-6",children:Object(j.jsx)(te,{type:"number",label:"Cena",name:"price-announcement",isValid:v.price.isValid,errorMessage:v.price.errorMessage,value:v.price.value,onChange:function(e){return g(e,"price")}})}),Object(j.jsx)("div",{className:"col-6",children:Object(j.jsxs)("div",{className:"mb-2",children:[Object(j.jsx)("p",{className:"mb-2",children:"Kategoria"}),Object(j.jsx)(te,{type:"select",name:"category-announcement",options:[{label:"Trackday",value:"trackday"},{label:"Opony",value:"tires"},{label:"Motocykle",value:"motorcycles"}],isValid:v.category.isValid,errorMessage:v.category.errorMessage,value:v.category.value,onChange:function(e){return g(e,"category")}})]})})]}),Object(j.jsxs)("div",{className:"my-2",children:[Object(j.jsx)("p",{className:"mb-2",children:"Dodaj zdj\u0119cie"}),Object(j.jsx)(te,{type:"file",name:"photo-announcement",onChange:function(e){return function(e){if(m(!0),f(Object(p.a)(Object(p.a)({},v),{},{photo:Object(p.a)(Object(p.a)({},v.photo),{},{url:"",isValid:!1,invalidMessage:"",validMessage:""})})),void 0===e)return f(Object(p.a)(Object(p.a)({},v),{},{photo:Object(p.a)(Object(p.a)({},v.photo),{},{isValid:!1,invalidMessage:"Nie wybrano zdj\u0119cia !"})})),void m(!1);var t=e,a=ne.storage().ref("".concat("images","/").concat(t.name)).put(t);a.on("state_changed",(function(e){}),(function(e){console.log(e),f(Object(p.a)(Object(p.a)({},v),{},{photo:Object(p.a)(Object(p.a)({},v.photo),{},{isValid:!1,invalidMessage:"Co\u015b posz\u0142o nie tak, pr\xf3buj jeszcze raz",validMessage:""})})),m(!1)}),(function(){a.snapshot.ref.getDownloadURL().then((function(e){f(Object(p.a)(Object(p.a)({},v),{},{photo:Object(p.a)(Object(p.a)({},v.photo),{},{url:e,isValid:!0,validMessage:"zdj\u0119cie zosta\u0142o dodane",invalidMessage:""})})),m(!1)}))}))}(e)},loading:b,invalidMessage:v.photo.invalidMessage,validMessage:v.photo.validMessage,isValid:v.photo.isValid}),Object(j.jsx)("p",{className:"text-muted",children:Object(j.jsx)("small",{children:"*aby doda\u0107 og\u0142oszenie musisz wys\u0142a\u0107 zdj\u0119cie"})})]}),Object(j.jsx)(te,{type:"textarea",label:"Opis produktu",name:"description-announcement",isValid:v.description.isValid,errorMessage:v.description.errorMessage,value:v.description.value,onChange:function(e){return g(e,"description")}}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-6",children:Object(j.jsx)(te,{type:"text",label:"Imi\u0119",name:"name-announcement",isValid:v.name.isValid,errorMessage:v.name.errorMessage,value:v.name.value,onChange:function(e){return g(e,"name")}})}),Object(j.jsx)("div",{className:"col-6",children:Object(j.jsx)(te,{type:"text",label:"Telefon",name:"phone-announcement",isValid:v.phone.isValid,errorMessage:v.phone.errorMessage,value:v.phone.value,onChange:function(e){return g(e,"phone")}})}),Object(j.jsx)("div",{className:"col-6",children:Object(j.jsx)(te,{type:"email",label:"Email",name:"email-announcement",isValid:v.email.isValid,errorMessage:v.email.errorMessage,value:v.email.value,onChange:function(e){return g(e,"email")}})}),Object(j.jsx)("div",{className:"col-6",children:Object(j.jsx)(te,{type:"text",label:"Miasto",name:"city-announcement",isValid:v.city.isValid,errorMessage:v.city.errorMessage,value:v.city.value,onChange:function(e){return g(e,"city")}})})]}),Object(j.jsxs)("div",{className:"mb-2",children:[Object(j.jsx)("p",{className:"mb-2",children:"Og\u0142oszenie promowane"}),Object(j.jsx)(te,{type:"radio",name:"promoted-announcement",options:[{value:"1",label:"Tak"},{value:"0",label:"Nie"}],value:v.promoted.value,onChange:function(e){return g(e,"promoted")}})]}),Object(j.jsx)(Z,{title:"Dodaj og\u0142oszenie",disabled:k,loading:s})]})})]})})}var se=a.p+"static/media/bike2.25e2bb5c.jpg",re=[{id:1,title:"Motocykl Honda 2002 rok",city:"Warszawa",price:"15 000 z\u0142",date:"wczoraj 15:00",image:se,category:"motorcycles",promoted:!1},{id:2,title:"Opona torowa",city:"Bydgoszcz",price:"200 z\u0142",date:"dzisiaj 11:12",image:se,category:"tires",promoted:!0},{id:3,title:"Trackday Silesiaring 19-20.07",city:"Kamie\u0144 \u015al\u0105ski",price:"1 150 z\u0142",date:"24.06 01:07",image:se,category:"tickets",promoted:!1},{id:4,title:"Trackday Brno 12-15.08",city:"Brno, Czechy",price:"1 550 z\u0142",date:"01.07 22:27",image:se,category:"tickets",promoted:!0},{id:5,title:"Opona torowa Metzeler! Nowa",city:"Katowice",price:"500 z\u0142",date:"dzisiaj 16:45",image:se,category:"tires",promoted:!0},{id:6,title:"Motocykl Kawasaki 2012 rok",city:"Radom",price:"21 000 z\u0142",date:"21.07 18:19",image:se,category:"motorcycles",promoted:!1},{id:7,title:"Motocykl Suzuki dl-650 2019 rok",city:"Wadowice",price:"35 000 z\u0142",date:"17.06 12:17",image:se,category:"motorcycles",promoted:!0}],ie=function(e,t){switch(t.type){case"login":return Object(p.a)(Object(p.a)({},e),{},{user:t.user});case"logout":return Object(p.a)(Object(p.a)({},e),{},{user:null})}},oe={user:window.localStorage.getItem("user")?JSON.parse(window.localStorage.getItem("user")):null,theme:"info",announcements:re};function le(){var e=u(),t=Object(i.a)(e,2),a=(t[0],t[1]),n=Object(o.g)(),c=function(){var e=Object(N.a)(y.a.mark((function e(t){var c,s,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.email,s=t.password,e.prev=1,e.next=4,J.post("/accounts:signUp",{email:c,password:s,returnSecureToken:!0});case 4:r=e.sent,a({email:r.data.email,token:r.data.idToken,localId:r.data.localId}),console.log(r.data),n.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(G,{onSubmitFormHandler:function(e){return c(e)},btnTitle:"Zarejestruj",formName:"Rejestracja"})})}function de(e){return Object(n.useContext)(d).user?Object(j.jsx)(o.b,Object(p.a)({},e)):Object(j.jsx)(o.a,{to:"/"})}function ue(e){return Object(n.useContext)(d).user?Object(j.jsx)(o.a,{to:"/"}):Object(j.jsx)(o.b,Object(p.a)({},e))}function je(){var e=u(),t=Object(i.a)(e,1)[0],a=Object(n.useState)([]),c=Object(i.a)(a,2),s=c[0],r=c[1],o=Object(n.useState)(!0),d=Object(i.a)(o,2),b=d[0],m=d[1],p=function(){var e=Object(N.a)(y.a.mark((function e(){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,V();case 4:a=e.sent,n=Object(w.a)(a).filter((function(e){return e.userId===t.localId})),r(n),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.respone),m(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(N.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.delete("/announcements/".concat(t,".json"));case 3:a=Object(w.a)(s).filter((function(e){return e.id!==t})),r(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),Object(j.jsx)("div",{className:"container my-2",children:b?Object(j.jsx)(L,{}):0!==s.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Moje og\u0142oszenia:"}),Object(j.jsx)("div",{className:"table-responsive",children:Object(j.jsxs)("table",{className:"table text-center",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:"table-secondary ",children:[Object(j.jsx)("th",{className:"text-start",scope:"col",style:{width:"75%"},children:"Tytu\u0142"}),Object(j.jsx)("th",{scope:"col",style:{width:"10%"},children:"Promowane"}),Object(j.jsx)("th",{scope:"col",style:{width:"15%",minWidth:"150px"},children:"Zarz\u0105dzaj"})]})}),Object(j.jsx)("tbody",{children:s.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"text-start",children:e.title}),Object(j.jsx)("td",{children:"1"===e.promoted?Object(j.jsx)("span",{className:"badge bg-success",children:"Tak"}):Object(j.jsx)("span",{className:"badge bg-secondary",children:"Nie"})}),Object(j.jsxs)("td",{children:[Object(j.jsx)("button",{className:"btn btn-warning btn-sm me-2",children:"Edytuj"}),Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return h(e.id)},children:"Usu\u0144"})]})]},e.id)}))})]})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"alert alert-warning",children:"Aktualnie brak og\u0142osze\u0144"}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)(l.c,{className:"btn btn-outline-info ",to:"/newAnnouncement",children:"Dodaj og\u0142oszenie"})})]})})}var be=function(){var e=Object(n.useReducer)(ie,oe),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(b,{})}),r=Object(j.jsxs)(o.d,{children:[Object(j.jsx)(de,{path:"/newAnnouncement",component:ce}),Object(j.jsx)(de,{path:"/profile/announcements/:localId?",component:je}),Object(j.jsx)(ue,{path:"/registration",component:le}),Object(j.jsx)(ue,{path:"/login",component:$}),Object(j.jsxs)(o.b,{path:"/motorcycles",children:[Object(j.jsx)(m,{}),Object(j.jsx)(R,{})]}),Object(j.jsxs)(o.b,{path:"/tires",children:[Object(j.jsx)(m,{}),Object(j.jsx)(W,{})]}),Object(j.jsxs)(o.b,{path:"/tickets",children:[Object(j.jsx)(m,{}),Object(j.jsx)(U,{})]}),Object(j.jsxs)(o.b,{path:"/search/:term?",children:[Object(j.jsx)(m,{}),Object(j.jsx)(E,{})]}),Object(j.jsx)(o.b,{exact:!0,path:"/",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{}),Object(j.jsx)(f,{}),Object(j.jsx)(q,{})]})})]}),u=Object(j.jsx)(T,{});return Object(j.jsx)(d.Provider,{value:{user:a.user,login:function(e){return c({type:"login",user:e})},logout:function(){return c({type:"logout"})}},children:Object(j.jsx)(k.Provider,{value:{state:a,dispatch:c},children:Object(j.jsx)(l.a,{children:Object(j.jsx)(D,{header:s,content:r,footer:u})})})})},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,104)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(be,{})}),document.getElementById("root")),me()},51:function(e,t,a){},52:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.9ed95883.chunk.js.map