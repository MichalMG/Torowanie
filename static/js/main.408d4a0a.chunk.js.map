{"version":3,"sources":["context/reducerContext.js","context/authContext.js","hooks/useAuth.js","components/Navbar/Navbar.jsx","components/UI/Searchbar/Searchbar.jsx","components/Footer/Footer.jsx","components/Layout/Layout.jsx","components/UI/Spinner/Spinner.jsx","components/Announcements/Announcement/Announcement.jsx","components/Announcements/Announcements.jsx","axiosDB.js","helpers/objectIdToArray.js","hooks/useWebsiteTitle.js","pages/Search/Search.jsx","helpers/getAllAnnouncements.js","pages/Trackdays/Trackdays.jsx","pages/Tires/Tires.jsx","pages/Motorcycles/Motorcycles.jsx","helpers/validation.js","components/UI/LoadingButton/LoadingButton.jsx","pages/Auth/AuthForm.jsx","axiosAuth.js","pages/Auth/Login/Login.jsx","assets/img/bike2.jpg","reducer.js","pages/Auth/Registration/Registration.jsx","components/AuthRoute/AuthRouteTrue.jsx","components/AuthRoute/AuthRouteFalse.jsx","pages/Profile/Announcements/ProfileAnnouncements.jsx","pages/Announcement/AnnouncementForm/AnnouncementForm.jsx","pages/Announcement/Announcement.jsx","assets/img/tire.jpg","assets/img/bike.jpg","assets/img/ticket.png","components/Category/Element/Element.jsx","components/Category/Category.jsx","components/Announcements/AnnouncementHome/AnnouncementHome.jsx","components/Announcements/AnnouncementsHome.jsx","pages/Home/Home.jsx","components/Input/Input.jsx","firebase.js","pages/AnnouncementHandler/AnnouncementHandlerForm.jsx","pages/AnnouncementHandler/EditAnnouncement/EditAnnouncement.jsx","pages/AnnouncementHandler/NewAnnouncement/NewAnnouncement.jsx","App.js","reportWebVitals.js","index.js"],"names":["reducerContext","React","createContext","state","dispatch","authContext","auth","login","logout","useAuth","userContext","useContext","user","window","localStorage","setItem","JSON","stringify","console","log","removeItem","Navbar","setUser","history","useHistory","className","style","width","to","id","href","role","xmlns","height","fill","viewBox","d","localId","onClick","push","theme","Searchbar","useState","term","setTerm","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","Footer","fontSize","backgroundColor","Layout","props","minHeight","header","flexGrow","content","footer","Spinner","Announcement","background","photo","backgroundSize","backgroundPosition","position","top","left","right","bottom","title","city","date","parseInt","price","toLocaleString","Announcements","announcements","map","x","instance","axios","create","baseURL","process","objectIdToArray","obj","newArray","newItem","useWebsiteTitle","newTitle","setTitle","document","Search","search","setSearch","loading","setLoading","useParams","getSearch","a","get","getAllAnnouncements","getSearchTerm","data","filter","toLowerCase","includes","response","useEffect","length","axiosDB","allAnnouncements","Tickets","trackdayArray","setTrackdayArray","getTrackday","allTrackdays","category","Tires","tiresArray","setTiresArray","getAnnouncements","allTires","Motorcycle","motorcyclesArray","setMotorcyclesArray","getMotorcycles","allMotorcycles","options","required","email","test","String","validateEmail","password","phone","validatePhone","rule","validation","rules","i","Object","LoadingButton","disabled","AuthForm","isValid","errorMessage","form","setForm","btnDisabledHandler","values","formSubmit","onSubmitFormHandler","changeHandler","formName","htmlFor","btnTitle","params","key","Login","setErrorMessage","axiosAuth","post","loginUser","token","idToken","error","message","image","bike2","promoted","reducer","action","initialState","getItem","parse","Registration","returnSecureToken","newUser","AuthRoute","ProfileAnnouncements","myAnnouncements","setMyAnnouncements","getUserAnnouncements","announceWithId","userId","respone","removeHandler","delete","scope","minWidth","announce","AnnouncementForm","showPhone","setShowPhone","showEmail","setShowEmail","padding","borderRadius","description","fillRule","AnnouncementTire","setAnnounce","getAnnounce","Element","path","src","alt","Category","ticket","tire","bike","AnnouncementsHome","setPromoted","getPromoted","splice","announcement","Home","InputText","name","label","InputSelect","option","InputTextarea","rows","InputRadio","checked","InputFile","fileRef","useRef","accept","ref","invalidMessage","validMessage","current","files","Input","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","NewAnnouncement","loadingPhoto","setLoadingPhoto","url","formHandler","announcementData","editAnnouncement","editForm","item","setEditAnnouncement","val","img","undefined","file","uploadTask","storage","put","on","snapshot","getDownloadURL","then","downloadURL","imgHandler","btnLabel","EditAnnouncement","setAnnouncement","getAnnouncement","updateAnnouncement","patch","App","useReducer","component","exact","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.408d4a0a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst reducerContext = React.createContext({\r\n  state: {},\r\n  dispatch: () => {}\r\n})\r\n\r\nexport default reducerContext;","import React from 'react';\r\n\r\nconst authContext = React.createContext({\r\n  auth: false,\r\n  login: () => {},\r\n  logout: () => {}\r\n});\r\n\r\nexport default authContext;","import { useContext } from \"react\";\r\nimport authContext from \"../context/authContext\";\r\n\r\nexport default function useAuth() {\r\n\r\n  const userContext = useContext(authContext);\r\n\r\n  const setUser = (user) => {\r\n    if (user) {\r\n      window.localStorage.setItem('user', JSON.stringify(user));\r\n      console.log(user);\r\n      userContext.login(user);\r\n    } else {\r\n      window.localStorage.removeItem('user');\r\n      userContext.logout();\r\n    }\r\n  }\r\n\r\n  return [userContext.user, setUser]\r\n}","import { useContext } from \"react\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport reducerContext from \"../../context/reducerContext\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nexport default function Navbar() {\r\n\r\n  const [user, setUser] = useAuth();\r\n  const history = useHistory();\r\n  const { state } = useContext(reducerContext);\r\n\r\n  const logoutHandler = () => {\r\n    setUser(null);\r\n    history.push('/');\r\n  }\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\r\n      <div className=\"container\">\r\n        <div className=\"d-flex flex-column flex-sm-row align-items-center justify-content-between\" style={{ width: '100%' }}>\r\n          <div className=\"mb-2 mb-sm-0\">\r\n            <NavLink className=\"navbar-brand\" to=\"/\">#Torowanie</NavLink>\r\n          </div>\r\n          <div>\r\n            <div className=\"collapse navbar-collapse d-flex align-items-center\" id=\"navbarSupportedContent\">\r\n              <ul className=\"navbar-nav\">\r\n                {user\r\n                  ? (<>\r\n                    <li className=\"nav-item dropdown\">\r\n                      <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" className=\"bi bi-person-fill me-2\" viewBox=\"0 0 16 16\">\r\n                          <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\r\n                        </svg>\r\n                        Mój profil\r\n                      </a>\r\n                      <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                        <li className=\"my-4\">Nazwa użytkownika</li>\r\n                        <li>\r\n                          <NavLink className=\"dropdown-item\" to={`/profile/announcements/${user.localId}`}>Ogłoszenia</NavLink>\r\n                        </li>\r\n                        <li><a className=\"dropdown-item\" href=\"#\">Ustawienia</a></li>\r\n                        <li><hr className=\"dropdown-divider\" /></li>\r\n                        <li>\r\n                          <button className=\"dropdown-item\" onClick={logoutHandler}>Wyloguj</button>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <NavLink className={`btn btn-outline-${state.theme} ms-3`} to=\"/newAnnouncement\">Dodaj ogłoszenie</NavLink>\r\n                    </li>\r\n                  </>)\r\n                  : (<>\r\n                    <li className=\"nav-item\">\r\n                      <NavLink className=\"nav-link\" to=\"/login\">Zaloguj</NavLink>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <NavLink className=\"nav-link\" to=\"/registration\">Rejestracja</NavLink>\r\n                    </li>\r\n                  </>)}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </nav>\r\n  )\r\n}","import { useContext, useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport reducerContext from \"../../../context/reducerContext\";\r\n\r\nexport default function Searchbar() {\r\n\r\n  const [term, setTerm] = useState('');\r\n  const history = useHistory();\r\n  const { state } = useContext(reducerContext);\r\n\r\n  const formHandler = e => {\r\n    e.preventDefault();\r\n    history.push(`/search/${term}`);\r\n\r\n  }\r\n\r\n  return (\r\n    <section className=\"bg-light py-4\">\r\n      <div className=\"container\">\r\n        <form onSubmit={formHandler}>\r\n          <div className=\"p-3 d-flex input-group\">\r\n            <span className=\"input-group-text\" >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-search\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\r\n              </svg>\r\n            </span>\r\n            <input type=\"text\" className=\"form-control shadow-none\" placeholder=\"wyszukaj...\" value={term} onChange={(e) => setTerm(e.target.value)} />\r\n            <button type=\"submit\" className={`btn btn-${state.theme} ms-2`}>Wyszukaj</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  )\r\n}","export default function Footer() {\r\n\r\n  return (\r\n    <footer className=\"bg-dark text-light\">\r\n      <div className=\"container text-center py-2\">\r\n        <div>\r\n          <p className=\"display-6\">#Torowanie</p>\r\n          <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Fugiat, unde error vero omnis explicabo sed. Sequi consequatur sint dolore magnam, voluptatum expedita nobis nam impedit enim sapiente veniam adipisci suscipit. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Doloremque nulla quo iste sapiente, neque eius qui voluptate illum maxime commodi velit tempora animi similique! Enim natus odit fuga ea exercitationem? Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perspiciatis accusantium pariatur natus temporibus autem consequatur ut itaque esse ipsum, error et nobis, odit numquam, repudiandae deleniti expedita. Error, aspernatur illo!</p>\r\n        </div>\r\n      </div>\r\n      <p className=\"mb-0 py-1 text-center\" style={{ fontSize: '.9rem', backgroundColor: 'rgba(255,255,255,.05)' }}>Copyright by</p>\r\n    </footer>\r\n  )\r\n}","export default function Layout(props) {\r\n\r\n  return (\r\n    <>\r\n      <div className=\"d-flex flex-column bg-light\" style={{ minHeight: '100vh' }}>\r\n        <div>{props.header}</div>\r\n        <div style={{ flexGrow: 1 }}>{props.content}</div>\r\n        <div>{props.footer}</div>\r\n      </div>\r\n    </>\r\n  )\r\n}","import { useContext } from \"react\"\r\nimport reducerContext from \"../../../context/reducerContext\"\r\n\r\nexport default function Spinner() {\r\n\r\n  const { state } = useContext(reducerContext);\r\n\r\n  return (\r\n    <div className=\"text-center py-4\">\r\n      <div className={`spinner-grow bg-${state.theme}`} style={{ width: '3rem', height: '3rem' }} role=\"status\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { Link } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport reducerContext from \"../../../context/reducerContext\";\r\n\r\nexport default function Announcement(props) {\r\n\r\n  const { state } = useContext(reducerContext);\r\n\r\n\r\n  return (\r\n    <div className=\"py-2\">\r\n      <div className=\"card mb-3 bg-white\">\r\n        <div className=\"card-body\">\r\n          <div className=\"row d-flex\">\r\n            {/* <div className=\"col-4 order-1\">\r\n              <img src={props.photo} className=\"img-fluid p-1\" alt=\"...\" />\r\n            </div> */}\r\n            <div className=\"col-12 col-md-4 col-lg-3 order-1\">\r\n              <div className=\"position-relative\" style={{ width: '100%', height: '200px' }}>\r\n                <div className=\"rounded\" style={{ background: `url(${props.photo})`, backgroundSize: 'cover', backgroundPosition: 'center', position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 col-md-6 col-lg-7 d-flex flex-column justify-content-between order-2  my-2 my-md-0\">\r\n              <p className=\"card-text mb-0\"><span className=\"fw-bold\">{props.title}</span></p>\r\n              <p className=\"card-text mb-0\"><small className=\"text-muted\">{props.city}, {props.date}</small></p>\r\n            </div>\r\n            <div className=\"col-12 col-md-2 d-flex flex-md-column justify-content-between  align-items-center align-items-md-end order-3\">\r\n              <p className=\"mb-0 text-end\"><span className=\"fw-bold\">{parseInt(props.price).toLocaleString()} zł</span></p>\r\n              <Link to={`/announcement/${props.id}`} className={`btn btn-${state.theme} btn-sm`} >Pokaż</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n{/* <div className=\"py-2\">\r\n  <div className=\"card mb-3 bg-white\">\r\n    <div className=\"row g-0\">\r\n      <div className=\"col-4\">\r\n        <img src={props.photo} className=\"img-fluid rounded-start p-3\" style={{ width: '100%', height: 'auto' }} alt=\"...\" />\r\n      </div>\r\n      <div className=\"col-8\">\r\n        <div className=\"row card-body d-flex justify-content-between\" style={{ height: '100%' }}>\r\n          <div className=\"col-8 col-sm-9 d-flex flex-column justify-content-between\">\r\n            <p className=\"card-text mb-0\"><span className=\"fw-bold\">{props.title}</span></p>\r\n            <p className=\"card-text mb-0\"><small className=\"text-muted\">{props.city}, {props.date}</small></p>\r\n          </div>\r\n          <div className=\"col-4 col-sm-3 d-flex flex-column justify-content-between\">\r\n            <p className=\"mb-0 text-end\"><span className=\"fw-bold\">{parseInt(props.price).toLocaleString()} zł</span></p>\r\n            <Link to={`/announcement/${props.id}`} className={`btn btn-${state.theme} btn-sm ms-auto`} >Pokaż</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> */}","import Announcement from \"./Announcement/Announcement\";\r\n\r\nexport default function Announcements(props) {\r\n\r\n  return (\r\n    props.announcements.map((x) => <Announcement key={x.id} {...x} />)\r\n  )\r\n}","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_FIREBASE_DB\r\n})\r\n\r\nexport default instance;","const objectIdToArray = (obj) => {\r\n  const newArray = [];\r\n\r\n  for (const id in obj) {\r\n    const newItem = { ...obj[id], id };\r\n    newArray.push(newItem);\r\n  }\r\n\r\n  return newArray;\r\n}\r\n\r\nexport default objectIdToArray;","export default function useWebsiteTitle(newTitle) {\r\n\r\n  const setTitle = title => {\r\n    document.title = title;\r\n  }\r\n\r\n  if (newTitle) {\r\n    setTitle(newTitle);\r\n  }\r\n\r\n  return setTitle;\r\n}","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\"\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport Announcements from \"../../components/Announcements/Announcements\";\r\nimport axios from '../../axiosDB';\r\nimport objectIdToArray from \"../../helpers/objectIdToArray\";\r\nimport useWebsiteTitle from \"../../hooks/useWebsiteTitle\";\r\n\r\nexport default function Search() {\r\n\r\n  const [search, setSearch] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { term } = useParams();\r\n  useWebsiteTitle(`Wyszukiwanie: ${term}`)\r\n\r\n  const getSearch = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const getAllAnnouncements = await axios.get('/announcements.json');\r\n\r\n      const getSearchTerm = objectIdToArray(getAllAnnouncements.data).filter(x => x.title.toLowerCase().includes(term.toLowerCase()));\r\n      setSearch(getSearchTerm);\r\n      setLoading(false);\r\n\r\n    } catch (ex) {\r\n      console.log(ex.response);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getSearch();\r\n  }, [term])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bg-light\">\r\n        <div className=\"container\">\r\n          {loading\r\n            ? <Spinner />\r\n            : search.length === 0\r\n              ? <div className=\"alert alert-danger\">Niestety nic nie znaleziono</div>\r\n              : <Announcements announcements={search} />}\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </>\r\n  )\r\n}","import axiosDB from '../axiosDB';\r\nimport objectIdToArray from './objectIdToArray';\r\n\r\nexport default async function getAllAnnouncements() {\r\n  const allAnnouncements = await axiosDB.get('/announcements.json');\r\n  const newArray = objectIdToArray(allAnnouncements.data);\r\n  return newArray;\r\n}","import { useEffect, useState } from \"react\";\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport Announcements from \"../../components/Announcements/Announcements\";\r\nimport getAllAnnouncements from \"../../helpers/getAllAnnouncements\";\r\nimport useWebsiteTitle from \"../../hooks/useWebsiteTitle\";\r\n\r\nexport default function Tickets() {\r\n  const [trackdayArray, setTrackdayArray] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useWebsiteTitle(\"Trackdays\");\r\n  const getTrackday = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const allAnnouncements = await getAllAnnouncements();\r\n      const allTrackdays = [...allAnnouncements].filter(x => x.category === \"trackday\");\r\n      setTrackdayArray(allTrackdays);\r\n      setLoading(false);\r\n    } catch (ex) {\r\n      console.log(ex.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getTrackday();\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {loading ? <Spinner /> : (\r\n        <Announcements announcements={trackdayArray} />\r\n      )}\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport Announcements from \"../../components/Announcements/Announcements\";\r\nimport getAllAnnouncements from \"../../helpers/getAllAnnouncements\";\r\nimport useWebsiteTitle from \"../../hooks/useWebsiteTitle\";\r\n\r\nexport default function Tires() {\r\n\r\n  const [tiresArray, setTiresArray] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useWebsiteTitle(\"Opony\")\r\n  const getAnnouncements = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const allAnnouncements = await getAllAnnouncements();\r\n      const allTires = [...allAnnouncements].filter(x => x.category === 'tires');\r\n      setTiresArray(allTires);\r\n      setLoading(false);\r\n    } catch (ex) {\r\n      console.log(ex.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAnnouncements();\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {loading ? <Spinner /> : (\r\n        <Announcements announcements={tiresArray} />\r\n      )}\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport Announcements from \"../../components/Announcements/Announcements\";\r\nimport getAllAnnouncements from \"../../helpers/getAllAnnouncements\";\r\nimport useWebsiteTitle from \"../../hooks/useWebsiteTitle\";\r\n\r\nexport default function Motorcycle() {\r\n\r\n  const [motorcyclesArray, setMotorcyclesArray] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useWebsiteTitle(\"Motocykle\");\r\n\r\n  const getMotorcycles = async () => {\r\n    try {\r\n      const allAnnouncements = await getAllAnnouncements();\r\n      const allMotorcycles = [...allAnnouncements].filter(x => x.category === \"motorcycles\");\r\n      setMotorcyclesArray(allMotorcycles);\r\n      setLoading(false);\r\n    } catch (ex) {\r\n      console.log(ex.response);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getMotorcycles();\r\n    // setLoading(true);\r\n    // setTimeout(() => {\r\n    //   const newArray = [...state.announcements].filter(x => x.category === 'motorcycles');\r\n    //   setAnnouncementsArray(newArray);\r\n    //   setLoading(false);\r\n    // }, 2000)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {loading ? <Spinner /> : (\r\n        <Announcements announcements={motorcyclesArray} />\r\n      )}\r\n    </div>\r\n  )\r\n}","function validateEmail(email) {\r\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction validatePhone(phone) {\r\n  const re = /^(((?:(?:(?:\\+|00)?48)|(?:\\(\\+?48\\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-8]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\\d{7}))$/;\r\n  return re.test(String(phone).toLowerCase());\r\n}\r\n\r\nconst options = {\r\n  required(value) {\r\n    return value ? '' : 'Pole wymagane'\r\n  },\r\n  email(value) {\r\n    return validateEmail(value) ? '' : 'Nieprawidłowy email';\r\n  },\r\n  password(value) {\r\n    return value.length > 5 ? '' : 'Minimum 6 znaków'\r\n  },\r\n  phone(value) {\r\n    return validatePhone(value) ? '' : 'Nieprawidłowy numer';\r\n  },\r\n  length(value, rule) {\r\n    return value.length <= rule.length ? '' : `Maxymalna ilość znaków to: ${rule.length}`\r\n  }\r\n}\r\n\r\nexport default function validation(value, rules = []) {\r\n\r\n  for (let i = 0; i < rules.length; i++) {\r\n    const rule = rules[i];\r\n    if (rule instanceof Object) {\r\n      const response = options[rule.rule](value, rule);\r\n      if (response) {\r\n        return response;\r\n      }\r\n    } else {\r\n      const response = options[rule](value);\r\n      if (response) {\r\n        return response;\r\n      }\r\n    }\r\n  }\r\n\r\n  return '';\r\n}","import { useContext } from \"react\"\r\nimport reducerContext from \"../../../context/reducerContext\"\r\n\r\nexport default function LoadingButton(props) {\r\n\r\n  const { state } = useContext(reducerContext);\r\n\r\n  return (\r\n    props.loading\r\n      ? (<button className={`btn btn-${state.theme}`} type=\"button\" disabled>\r\n        <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n        Ładowannie...\r\n      </button>)\r\n      : <button className={`btn btn-${state.theme}`} disabled={props.disabled ? props.disabled : false}>{props.title}</button>\r\n  )\r\n}","import { useState } from \"react\"\r\nimport validation from \"../../helpers/validation\";\r\nimport LoadingButton from \"../../components/UI/LoadingButton/LoadingButton\";\r\n\r\nexport default function AuthForm(props) {\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [form, setForm] = useState({\r\n    email: {\r\n      value: '',\r\n      rules: ['required', 'email'],\r\n      isValid: false,\r\n      errorMessage: ''\r\n    },\r\n    password: {\r\n      value: '',\r\n      rules: ['required', 'password'],\r\n      isValid: false,\r\n      errorMessage: ''\r\n    }\r\n  })\r\n\r\n  const btnDisabledHandler = !(Object.values(form).filter(x => x.isValid).length === 2);\r\n\r\n  const formSubmit = async e => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    await props.onSubmitFormHandler({\r\n      email: form.email.value,\r\n      password: form.password.value\r\n    });\r\n  }\r\n\r\n  const changeHandler = (value, type) => {\r\n    const errorMessage = validation(value, form[type].rules)\r\n    setForm({ ...form, [type]: { ...form[type], value, isValid: !errorMessage, errorMessage } });\r\n  }\r\n\r\n  return (\r\n    <div className=\"card my-2 \">\r\n      <div className=\"card-header\">\r\n        <p className=\"mb-0\">{props.formName}</p>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <form onSubmit={formSubmit}>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"email-login\" className=\"form-label\">Email</label>\r\n            <input type=\"email\" className={`form-control ${form.email.isValid ? 'is-valid' : ''} ${form.email.errorMessage ? 'is-invalid' : ''}`} id=\"email-login\" placeholder=\"name@example.com\" value={form.email.value} onChange={(e) => changeHandler(e.target.value, 'email')} />\r\n            <div className=\"invalid-feedback\">{form.email.errorMessage}</div>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"password-login\" className=\"form-label\">Hasło</label>\r\n            <input type=\"password\" className={`form-control ${form.password.isValid ? 'is-valid' : ''} ${form.password.errorMessage ? 'is-invalid' : ''}`} id=\"password-login\" placeholder=\"******\" value={form.password.value} onChange={(e) => changeHandler(e.target.value, 'password')} />\r\n            <div className=\"invalid-feedback\">{form.password.errorMessage}</div>\r\n          </div>\r\n          <LoadingButton title={props.btnTitle} loading={loading} disabled={btnDisabledHandler} />\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_AUTH_BASEURL,\r\n  params: {\r\n    key: process.env.REACT_APP_API_KEY\r\n  }\r\n})\r\n\r\nexport default instance;","import AuthForm from \"../AuthForm\";\r\nimport axiosAuth from '../../../axiosAuth';\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport useWebsiteTitle from \"../../../hooks/useWebsiteTitle\";\r\n\r\nexport default function Login() {\r\n\r\n  const [user, setUser] = useAuth();\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const history = useHistory();\r\n  useWebsiteTitle(\"Logowanie\");\r\n\r\n  const onSubmitFormHandler = async ({ email, password }) => {\r\n    setErrorMessage('');\r\n    try {\r\n      const loginUser = await axiosAuth.post('/accounts:signInWithPassword', {\r\n        email,\r\n        password\r\n      })\r\n\r\n      setUser({\r\n        email: loginUser.data.email,\r\n        token: loginUser.data.idToken,\r\n        localId: loginUser.data.localId,\r\n      });\r\n      history.push('/');\r\n\r\n    } catch (ex) {\r\n      const error = ex.response.data.error.message;\r\n      if (error === \"EMAIL_NOT_FOUND\") {\r\n        setErrorMessage(\"Brak adresu email w bazie\");\r\n      } else if (error === \"INVALID_PASSWORD\") {\r\n        setErrorMessage(\"Nieprawidłowe hasło\");\r\n      } else if (error === \"USER_DISABLED\") {\r\n        setErrorMessage(\"Konto użytkownika zostało zdezaktywowane, prosimy o kontakt\");\r\n      } else {\r\n        setErrorMessage(\"Wystąpił problem z logowaniem. Spróbuj później\");\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {errorMessage ? <div className=\"alert alert-danger my-2 text-center\">{errorMessage}</div> : null}\r\n      <AuthForm\r\n        onSubmitFormHandler={(form) => onSubmitFormHandler(form)}\r\n        btnTitle=\"Zaloguj\"\r\n        formName=\"Logowanie\"\r\n      />\r\n\r\n    </div>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/bike2.25e2bb5c.jpg\";","import bike2 from './assets/img/bike2.jpg';\r\n\r\n\r\nconst announcements = [{\r\n  id: 1,\r\n  title: 'Motocykl Honda 2002 rok',\r\n  city: 'Warszawa',\r\n  price: '15 000 zł',\r\n  date: 'wczoraj 15:00',\r\n  image: bike2,\r\n  category: 'motorcycles',\r\n  promoted: false\r\n}, {\r\n  id: 2,\r\n  title: 'Opona torowa',\r\n  city: 'Bydgoszcz',\r\n  price: '200 zł',\r\n  date: 'dzisiaj 11:12',\r\n  image: bike2,\r\n  category: 'tires',\r\n  promoted: true\r\n}, {\r\n  id: 3,\r\n  title: 'Trackday Silesiaring 19-20.07',\r\n  city: 'Kamień Śląski',\r\n  price: '1 150 zł',\r\n  date: '24.06 01:07',\r\n  image: bike2,\r\n  category: 'tickets',\r\n  promoted: false\r\n}, {\r\n  id: 4,\r\n  title: 'Trackday Brno 12-15.08',\r\n  city: 'Brno, Czechy',\r\n  price: '1 550 zł',\r\n  date: '01.07 22:27',\r\n  image: bike2,\r\n  category: 'tickets',\r\n  promoted: true\r\n}, {\r\n  id: 5,\r\n  title: 'Opona torowa Metzeler! Nowa',\r\n  city: 'Katowice',\r\n  price: '500 zł',\r\n  date: 'dzisiaj 16:45',\r\n  image: bike2,\r\n  category: 'tires',\r\n  promoted: true\r\n}, {\r\n  id: 6,\r\n  title: 'Motocykl Kawasaki 2012 rok',\r\n  city: 'Radom',\r\n  price: '21 000 zł',\r\n  date: '21.07 18:19',\r\n  image: bike2,\r\n  category: 'motorcycles',\r\n  promoted: false\r\n}, {\r\n  id: 7,\r\n  title: 'Motocykl Suzuki dl-650 2019 rok',\r\n  city: 'Wadowice',\r\n  price: '35 000 zł',\r\n  date: '17.06 12:17',\r\n  image: bike2,\r\n  category: 'motorcycles',\r\n  promoted: true\r\n}]\r\n\r\nexport const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'login':\r\n      return {\r\n        ...state, user: action.user\r\n      }\r\n      case 'logout':\r\n        return {\r\n          ...state, user: null\r\n        }\r\n  }\r\n}\r\n\r\nexport const initialState = {\r\n  user: window.localStorage.getItem('user') ? JSON.parse(window.localStorage.getItem('user')) : null,\r\n  theme: 'info',\r\n  announcements: announcements\r\n}","import AuthForm from \"../AuthForm\";\r\nimport axiosAuth from '../../../axiosAuth';\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport useWebsiteTitle from \"../../../hooks/useWebsiteTitle\";\r\n\r\nexport default function Registration() {\r\n\r\n  const [user, setUser] = useAuth();\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const history = useHistory();\r\n  useWebsiteTitle(\"Rejestracja\");\r\n\r\n  const onSubmitFormHandler = async ({ email, password }) => {\r\n    setErrorMessage('');\r\n    try {\r\n      const newUser = await axiosAuth.post('/accounts:signUp', {\r\n        email,\r\n        password,\r\n        returnSecureToken: true\r\n      })\r\n\r\n      setUser({\r\n        email: newUser.data.email,\r\n        token: newUser.data.idToken,\r\n        localId: newUser.data.localId,\r\n      });\r\n      console.log(newUser.data);\r\n      history.push('/');\r\n    } catch (ex) {\r\n      const error = ex.response.data.message;\r\n      if (error === \"EMAIL_EXISTS\") {\r\n        setErrorMessage(\"Adres email jest już używany przez inne konto\");\r\n      } else if (error === \"TOO_MANY_ATTEMPTS_TRY_LATER\") {\r\n        setErrorMessage(\"Konto użytkownika zostało zablokowane z powodu zbyt wielu prób nieudanego logowania, proszę spróbować ponownie później\");\r\n      } else {\r\n        setErrorMessage(\"Wystąpił problem z logowaniem. Spróbuj później\");\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {errorMessage ? <div className=\"alert alert-danger my-2 text-center\">{errorMessage}</div> : null}\r\n      <AuthForm\r\n        onSubmitFormHandler={(form) => onSubmitFormHandler(form)}\r\n        btnTitle=\"Zarejestruj\"\r\n        formName=\"Rejestracja\"\r\n      />\r\n\r\n    </div>\r\n  )\r\n}","import { useContext } from \"react\"\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport authContext from \"../../context/authContext\"\r\n\r\nexport default function AuthRoute(props) {\r\n\r\n  const { user } = useContext(authContext);\r\n\r\n  return user ? <Route {...props} /> : <Redirect to=\"/\" />\r\n}","import { useContext } from \"react\"\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport authContext from \"../../context/authContext\"\r\n\r\nexport default function AuthRoute(props) {\r\n\r\n  const { user } = useContext(authContext);\r\n\r\n  return user ? <Redirect to=\"/\" /> : <Route {...props} />\r\n}","import { useEffect, useState } from \"react\";\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport getAllAnnouncements from \"../../../helpers/getAllAnnouncements\";\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\r\nimport axiosDB from '../../../axiosDB';\r\nimport useWebsiteTitle from \"../../../hooks/useWebsiteTitle\";\r\n\r\nexport default function ProfileAnnouncements() {\r\n\r\n  const [user] = useAuth();\r\n  const [myAnnouncements, setMyAnnouncements] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useWebsiteTitle(\"Moje ogłoszenia\");\r\n\r\n  const getUserAnnouncements = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const allAnnouncements = await getAllAnnouncements();\r\n      const announceWithId = [...allAnnouncements].filter(x => x.userId === user.localId);\r\n      setMyAnnouncements(announceWithId);\r\n      setLoading(false);\r\n    } catch (ex) {\r\n      console.log(ex.respone);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const removeHandler = async id => {\r\n    try {\r\n      await axiosDB.delete(`/announcements/${id}.json`);\r\n      const newArray = [...myAnnouncements].filter(x => x.id !== id);\r\n      setMyAnnouncements(newArray);\r\n    } catch (ex) {\r\n      console.log(ex.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserAnnouncements();\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"container my-2\">\r\n      {loading ? <Spinner /> : (myAnnouncements.length !== 0 ? (\r\n        <>\r\n          <h3>Moje ogłoszenia:</h3>\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table text-center\">\r\n              <thead>\r\n                <tr className=\"table-secondary \">\r\n                  <th className=\"text-start\" scope=\"col\" style={{ width: '75%' }}>Tytuł</th>\r\n                  <th scope=\"col\" style={{ width: '10%', }} className=\"d-none d-sm-table-cell\">Promowane</th>\r\n                  <th scope=\"col\" className=\"text-end\" style={{ width: '15%', minWidth: '140px' }}>Zarządzaj</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {myAnnouncements.map(announce => (\r\n                  <tr key={announce.id}>\r\n                    <td className=\"text-start\">{announce.title}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">{announce.promoted === \"1\" ? <span className=\"badge bg-success\">Tak</span> : <span className=\"badge bg-secondary\">Nie</span>}</td>\r\n                    <td className=\"text-end\">\r\n                      <Link to={`/edit/${announce.id}`} className=\"btn btn-warning btn-sm me-2\" >Edytuj</Link>\r\n                      <button className=\"btn btn-danger btn-sm\" onClick={() => removeHandler(announce.id)}>Usuń</button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"alert alert-warning\">Aktualnie brak ogłoszeń</div>\r\n          <div className=\"text-center\">\r\n            <NavLink className=\"btn btn-outline-info \" to=\"/newAnnouncement\">Dodaj ogłoszenie</NavLink>\r\n          </div>\r\n        </>\r\n      )\r\n      )}\r\n    </div>\r\n  )\r\n}","import { useContext, useState } from \"react\";\r\nimport reducerContext from '../../../context/reducerContext';\r\n\r\nexport default function AnnouncementForm(props) {\r\n\r\n\r\n  const [showPhone, setShowPhone] = useState(false);\r\n  const [showEmail, setShowEmail] = useState(false);\r\n  const { state } = useContext(reducerContext);\r\n\r\n  return (\r\n    <div className=\"container my-2\">\r\n      <div className=\"row\">\r\n\r\n        <div className=\"col-12 col-md-8\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"position-relative\" style={{ width: '100%', height: '450px' }}>\r\n                    <div className=\"rounded\" style={{ background: `url(${props.photo})`, backgroundSize: 'cover', backgroundPosition: 'center', position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 mt-2\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <h5>{props.title}</h5>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      Cena: <span className=\"fw-bold\">{parseInt(props.price).toLocaleString()} zł</span>, <span className=\"text-muted\"><small>do negocjacji</small></span>\r\n                    </div>\r\n                    <div className=\"col-12 d-flex\">\r\n                      <p className={`border border-${state.theme} my-2 me-2`} style={{ padding: '2px 10px 2px 10px', borderRadius: '4px' }}>{props.category === \"tires\" ? \"Opony\" : props.category === \"trackdays\" ? \"Trackday\" : \"Motocykle\"}</p>\r\n                      {props.promoted === \"1\" ? <p className={`border border-${state.theme} my-2`} style={{ padding: '2px 10px 2px 10px', borderRadius: '4px' }}>Promowane</p> : null}\r\n                    </div>\r\n                    <div className=\"col-12 my-2\">\r\n                      <h6>Opis:</h6>\r\n                      <p className=\"mb-0\">\r\n                        {props.description}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"col-12 \">\r\n                      <p className=\"mb-0 border-top pt-1 mt-2\" style={{ fontSize: '12px' }}>ID: <span className=\"fw-bold\">{props.id}</span></p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12 col-md-4 mt-2 mt-md-0\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <h6 className=\"fw-bold\">Użytkownik</h6>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 d-flex align-items-center my-2\">\r\n                      <div>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" className=\"bi bi-telephone-fill\" viewBox=\"0 0 16 16\">\r\n                          <path fillRule=\"evenodd\" d=\"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\" />\r\n                        </svg>\r\n                      </div>\r\n                      <div className=\"ms-2 d-flex align-items-center\">\r\n                        {showPhone\r\n                          ? <p className=\"mb-0\">{parseInt(props.phone).toLocaleString()}</p>\r\n                          : (<>\r\n                            <p className=\"mb-0\">xxx xxx xxx</p>\r\n                            <button className=\"btn btn-outline-primary btn-sm ms-2\" onClick={() => setShowPhone(true)}>Pokaż</button>\r\n                          </>)}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 d-flex align-items-center my-2\">\r\n                      <div>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" className=\"bi bi-envelope-fill\" viewBox=\"0 0 16 16\">\r\n                          <path d=\"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z\" />\r\n                        </svg>\r\n                      </div>\r\n                      <div className=\"ms-2 d-flex align-items-center\">\r\n                        {showEmail\r\n                          ? <p className=\"mb-0\">{props.email}</p>\r\n                          : (\r\n                            <>\r\n                              <p className=\"mb-0\">xxxxxxxxx</p>\r\n                              <button className=\"btn btn-outline-primary btn-sm ms-2\" onClick={() => setShowEmail(true)}>Pokaż</button>\r\n                            </>\r\n                          )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 mt-2\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <h6 className=\"fw-bold\">Lokalizacja</h6>\r\n                    </div>\r\n                    <div className=\"col-12 d-flex mt-3\">\r\n                      <div>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" className=\"bi bi-geo-alt-fill\" viewBox=\"0 0 16 16\">\r\n                          <path d=\"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\" />\r\n                        </svg>\r\n                      </div>\r\n                      <div className=\"ms-2\">\r\n                        <p className=\"mb-0\">{props.city}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axiosDB from '../../axiosDB';\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport useWebsiteTitle from \"../../hooks/useWebsiteTitle\";\r\nimport AnnouncementForm from \"../Announcement/AnnouncementForm/AnnouncementForm\";\r\n\r\nexport default function AnnouncementTire() {\r\n\r\n  const { id } = useParams();\r\n  const [announce, setAnnounce] = useState({})\r\n  const [loading, setLoading] = useState(true);\r\n  const setTitle = useWebsiteTitle();\r\n\r\n  const getAnnounce = async () => {\r\n    try {\r\n      const announce = await axiosDB.get(`/announcements/${id}.json`);\r\n      setAnnounce(announce.data);\r\n      setLoading(false);\r\n      setTitle(announce.data.title);\r\n    } catch (ex) {\r\n      console.log(ex.response)\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAnnounce();\r\n  }, [])\r\n\r\n  return (\r\n    loading ? <Spinner /> : <AnnouncementForm {...announce} id={id} />\r\n  )\r\n\r\n}","export default __webpack_public_path__ + \"static/media/tire.572e8354.jpg\";","export default __webpack_public_path__ + \"static/media/bike.38376db4.jpg\";","export default __webpack_public_path__ + \"static/media/ticket.d6771080.png\";","import { Link } from 'react-router-dom';\r\n\r\nexport default function Element(props) {\r\n\r\n  return (\r\n    <div className=\"col-12 col-sm-4 d-flex flex-column align-items-center justify-content-center\">\r\n      <Link to={props.path} className=\"btn shadow-none link-secondary\">\r\n        <div className=\"rounded-circle overflow-hidden  d-flex align-items-center justify-content-center\" style={{ width: '150px', height: '150px' }} >\r\n          <img src={props.image} alt=\"\" style={{ minWidth: '100%', minHeight: '100%' }} />\r\n        </div>\r\n        <h5 className=\"my-2\">{props.title}</h5>\r\n      </Link>\r\n    </div>\r\n  )\r\n}","import tire from '../../assets/img/tire.jpg';\r\nimport bike from '../../assets/img/bike.jpg';\r\nimport ticket from '../../assets/img/ticket.png';\r\nimport Element from './Element/Element';\r\n\r\nexport default function Category() {\r\n\r\n  const category = [{\r\n    id: 1,\r\n    title: 'Trackday',\r\n    image: ticket,\r\n    path: '/tickets'\r\n  }, {\r\n    id: 2,\r\n    title: 'Opony',\r\n    image: tire,\r\n    path: '/tires'\r\n  }, {\r\n    id: 3,\r\n    title: 'Motocykle',\r\n    image: bike,\r\n    path: '/motorcycles'\r\n  }]\r\n\r\n  return (\r\n    <section>\r\n      <div className=\"container my-2\">\r\n        <h3 className=\"text-center py-3\">Kategorie</h3>\r\n        <div className=\"row py-2 justify-content-evenly\">\r\n\r\n          {category.map(x => <Element key={x.id} {...x} />)}\r\n\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport reducerContext from \"../../../context/reducerContext\";\r\n\r\nexport default function Announcement(props) {\r\n\r\n  const { state } = useContext(reducerContext);\r\n\r\n  return (\r\n    <div className=\"col-12 col-sm-6 col-lg-3 my-1\">\r\n      <div className=\"card\" style={{ height: '100%' }}>\r\n        <div className=\"card-body\">\r\n          <div className=\"position-relative\" style={{ width: '100%', height: '150px' }} >\r\n            <div className=\"position-absolute \" style={{ background: `url(${props.photo})`, backgroundPosition: 'center', backgroundSize: 'cover', top: 0, left: 0, right: 0, bottom: 0 }}></div>\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body d-flex flex-column justify-content-between\" style={{ flexGrow: 1 }}>\r\n          <div style={{ minHeight: '65px' }}>\r\n            <p className=\"card-text mb-0\">{props.title}</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-muted text-start mb-0\">{props.city}, {props.date}</p>\r\n            <div className=\"d-flex justify-content-between align-items-center mt-2\">\r\n              <span className=\"badge bg-secondary fs-6\">{parseInt(props.price).toLocaleString()} zł</span>\r\n              <Link to={`/announcement/${props.id}`} className={`btn btn-${state.theme} ms-auto`} >Pokaż</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from 'react';\r\nimport getAllAnnouncements from '../../helpers/getAllAnnouncements';\r\nimport AnnouncementHome from './AnnouncementHome/AnnouncementHome';\r\n\r\n\r\nexport default function AnnouncementsHome() {\r\n  const [promoted, setPromoted] = useState([]);\r\n\r\n  const getPromoted = async () => {\r\n    try {\r\n      const allAnnouncements = await getAllAnnouncements();\r\n      const newArray = [...allAnnouncements].filter(x => x.promoted).splice(0, 4);\r\n      setPromoted(newArray)\r\n    } catch (ex) {\r\n      console.log(ex.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getPromoted();\r\n  })\r\n\r\n  return (\r\n    <section className=\"bg-light\">\r\n      <div className=\"container my-2\">\r\n        <h3 className=\"text-center py-3\">Promowane ogłoszenia</h3>\r\n        <div className=\"row\">\r\n\r\n          {promoted.map(announcement => <AnnouncementHome key={announcement.id} {...announcement} />)}\r\n\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}","import Searchbar from \"../../components/UI/Searchbar/Searchbar\";\r\nimport Category from \"../../components/Category/Category\";\r\nimport AnnouncementsHome from \"../../components/Announcements/AnnouncementsHome\";\r\nimport useWebsiteTitle from \"../../hooks/useWebsiteTitle\";\r\n\r\nexport default function Home() {\r\n\r\n  useWebsiteTitle(\"Strona główna\");\r\n\r\n  return (\r\n    <>\r\n      <Searchbar />\r\n      <Category />\r\n      <AnnouncementsHome />\r\n    </>\r\n  )\r\n}","import { useContext, useRef } from \"react\"\r\nimport reducerContext from \"../../context/reducerContext\"\r\n\r\nconst InputText = (props) => {\r\n  return (\r\n    <div className=\"mb-2\">\r\n      <label htmlFor={`${props.name}-${props.type}`} className=\"form-label\">{props.label}</label>\r\n      <input type={props.type} className={`form-control ${props.isValid ? 'is-valid' : ''} ${props.errorMessage ? 'is-invalid' : ''}`} id={`${props.name}-${props.type}`} value={props.value} onChange={(e) => props.onChange(e.target.value)} />\r\n      <div className=\"invalid-feedback\">{props.errorMessage}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst InputSelect = (props) => {\r\n  return (\r\n    <select className={`form-select ${props.isValid ? 'is-valid' : ''} ${props.errorMessage ? 'is-invalid' : ''}`} aria-label={props.name} value={props.value} onChange={e => props.onChange(e.target.value)}>\r\n      {props.options.map(option => (\r\n        <option key={option.value} value={option.value}>{option.label}</option>\r\n      ))}\r\n    </select>\r\n  )\r\n}\r\n\r\nconst InputTextarea = (props) => {\r\n  return (\r\n    <div className=\"mb-3\">\r\n      <label htmlFor={`${props.name}-${props.type}`} className=\"form-label\">{props.label}</label>\r\n      <textarea className={`form-control ${props.isValid ? 'is-valid' : ''} ${props.errorMessage ? 'is-invalid' : ''}`} id={`${props.name}-${props.type}`} value={props.value} onChange={e => props.onChange(e.target.value)} rows=\"5\"></textarea>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst InputRadio = (props) => {\r\n  return (\r\n    props.options.map(option => (\r\n      <div key={option.value} className=\"form-check\">\r\n        <input className=\"form-check-input\" type=\"radio\" name={props.name} id={`${props.name}-${option.value}`} checked={props.value.includes(option.value)} onChange={e => props.onChange(e.target.value)} value={option.value} />\r\n        <label className=\"form-check-label\" htmlFor={`${props.name}-${option.value}`}>\r\n          {option.label}\r\n        </label>\r\n      </div>\r\n    ))\r\n  )\r\n}\r\n\r\nconst InputFile = props => {\r\n  const fileRef = useRef();\r\n  const { state } = useContext(reducerContext);\r\n  const fileHandler = e => {\r\n    e.preventDefault();\r\n    props.onChange(fileRef.current.files[0]);\r\n  }\r\n\r\n  return (\r\n    <div className=\"input-group\">\r\n      <input accept=\"image/*\" ref={fileRef} type=\"file\" className=\"form-control\" id=\"inputGroupFile04\" aria-describedby={`input-${props.name}`} aria-label=\"Upload\" required />\r\n      {props.loading ? (<button className={`btn btn-${state.theme}`} type=\"button\" disabled>\r\n        <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n        Ładowannie...\r\n      </button>\r\n      ) : (<button className={`btn btn-outline-${state.theme} ${props.invalidMessage ? 'is-invalid' : ''} ${props.validMessage ? 'is-valid' : ''}`} type=\"button\" id={`input-${props.name}`} onClick={fileHandler}>Dodaj</button>\r\n      )}\r\n      <div className=\"valid-feedback\">{props.validMessage}</div>\r\n      <div className=\"invalid-feedback\">{props.invalidMessage}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default function Input(props) {\r\n\r\n  switch (props.type) {\r\n    case 'text':\r\n      return <InputText {...props} />\r\n    case 'email':\r\n      return <InputText {...props} type=\"email\" />\r\n    case 'number':\r\n      return <InputText {...props} type=\"number\" />\r\n    case 'select':\r\n      return <InputSelect {...props} />\r\n    case 'textarea':\r\n      return <InputTextarea {...props} />\r\n    case 'radio':\r\n      return <InputRadio {...props} />\r\n    case 'file':\r\n      return <InputFile {...props} />\r\n    default:\r\n      return;\r\n  }\r\n\r\n}","import firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: \"track-accessories.firebaseapp.com\",\r\n  projectId: \"track-accessories\",\r\n  storageBucket: \"track-accessories.appspot.com\",\r\n  messagingSenderId: \"658273541573\",\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DB,\r\n}\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import { useEffect, useState } from \"react\";\r\nimport Input from \"../../components/Input/Input\";\r\nimport validation from \"../../helpers/validation\";\r\nimport LoadingButton from '../../components/UI/LoadingButton/LoadingButton';\r\nimport firebase from '../../firebase';\r\nimport axios from '../../axiosDB';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nexport default function NewAnnouncement(props) {\r\n\r\n  const [user] = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingPhoto, setLoadingPhoto] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const [form, setForm] = useState({\r\n    title: {\r\n      value: '',\r\n      errorMessage: '',\r\n      isValid: false,\r\n      rules: ['required', { rule: 'length', length: 100 }]\r\n    },\r\n    city: {\r\n      value: '',\r\n      errorMessage: '',\r\n      isValid: false,\r\n      rules: ['required']\r\n    },\r\n    price: {\r\n      value: '',\r\n      errorMessage: '',\r\n      isValid: false,\r\n      rules: ['required']\r\n    },\r\n    category: {\r\n      value: 'tires',\r\n      errorMessage: '',\r\n      isValid: true\r\n    },\r\n    description: {\r\n      value: '',\r\n      errorMessage: '',\r\n      isValid: false,\r\n      rules: ['required']\r\n    },\r\n    promoted: {\r\n      value: '0',\r\n      errorMessage: '',\r\n      isValid: true,\r\n    },\r\n    email: {\r\n      value: '',\r\n      errorMessage: '',\r\n      isValid: false,\r\n      rules: ['required', 'email']\r\n    },\r\n    phone: {\r\n      value: '',\r\n      errorMessage: '',\r\n      isValid: false,\r\n      rules: ['required', 'phone']\r\n    },\r\n    name: {\r\n      value: '',\r\n      errorMessage: '',\r\n      isValid: false,\r\n      rules: ['required']\r\n    },\r\n    photo: {\r\n      url: props.announcement ? props.announcement.photo : '',\r\n      isValid: false,\r\n      invalidMessage: '',\r\n      validMessage: ''\r\n    }\r\n  })\r\n\r\n  const changeHandler = (value, type) => {\r\n    const errorMessage = validation(value, form[type].rules)\r\n    setForm({ ...form, [type]: { ...form[type], value, isValid: !errorMessage, errorMessage } })\r\n  }\r\n\r\n  const imgHandler = img => {\r\n    setLoadingPhoto(true);\r\n    setForm({ ...form, photo: { ...form.photo, url: '', isValid: false, invalidMessage: '', validMessage: '' } })\r\n    if (img === undefined) {\r\n      setForm({ ...form, photo: { ...form.photo, isValid: false, invalidMessage: 'Nie wybrano zdjęcia !' } });\r\n      setLoadingPhoto(false);\r\n      return;\r\n    }\r\n    let bucketName = 'images';\r\n    let file = img;\r\n    let storageRef = firebase.storage().ref(`${bucketName}/${file.name}`);\r\n    let uploadTask = storageRef.put(file);\r\n\r\n    uploadTask.on('state_changed',\r\n      (snapshot) => { },\r\n      (error) => {\r\n        console.log(error);\r\n        setForm({ ...form, photo: { ...form.photo, isValid: false, invalidMessage: 'Coś poszło nie tak, próbuj jeszcze raz', validMessage: '' } });\r\n        setLoadingPhoto(false);\r\n      },\r\n      () => {\r\n        uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n          setForm({ ...form, photo: { ...form.photo, url: downloadURL, isValid: true, validMessage: 'zdjęcie zostało dodane', invalidMessage: '' } });\r\n          setLoadingPhoto(false);\r\n        });\r\n      })\r\n  }\r\n\r\n  const formHandler = async e => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const announcementData = {\r\n        title: form.title.value,\r\n        city: form.city.value,\r\n        price: form.price.value,\r\n        category: form.category.value,\r\n        description: form.description.value,\r\n        promoted: form.promoted.value,\r\n        email: form.email.value,\r\n        phone: form.phone.value,\r\n        name: form.name.value,\r\n        photo: form.photo.url,\r\n        userId: user.localId\r\n      }\r\n      // await axios.post('/announcements.json', announcementInfo);\r\n      await props.onSubmit(announcementData);\r\n      setLoading(false);\r\n      history.push(`/profile/announcements/${user.localId}`)\r\n    } catch (ex) {\r\n      setLoading(false);\r\n      console.log(ex.response);\r\n    }\r\n  }\r\n\r\n  const setEditAnnouncement = () => {\r\n    if (!props.announcement) return;\r\n\r\n    const editAnnouncement = { ...props.announcement };\r\n    const editForm = { ...form };\r\n\r\n    delete editAnnouncement.userId;\r\n\r\n    for (let item in editAnnouncement) {\r\n      if (item !== \"photo\") {\r\n        editForm[item].value = editAnnouncement[item];\r\n        editForm[item].isValid = true;\r\n      }\r\n    }\r\n    editForm.photo.url = props.announcement.photo;\r\n    editForm.photo.isValid = true;\r\n\r\n    setForm(editForm);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setEditAnnouncement();\r\n  }, [props.announcement])\r\n\r\n  const btnDisabledHandler = !(Object.values(form).filter(x => !x.isValid).length === 0);\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"card my-2\">\r\n        <div className=\"card-header\">\r\n          <h4>{props.title}</h4>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <form onSubmit={formHandler} className=\"my-2\">\r\n            <Input\r\n              type=\"text\"\r\n              label=\"Tytuł\"\r\n              name=\"title-announcement\"\r\n              isValid={form.title.isValid}\r\n              errorMessage={form.title.errorMessage}\r\n              value={form.title.value}\r\n              onChange={val => changeHandler(val, 'title')}\r\n            />\r\n            <div className=\"row\">\r\n              <div className=\"col-6\">\r\n                <Input\r\n                  type=\"number\"\r\n                  label=\"Cena\"\r\n                  name=\"price-announcement\"\r\n                  isValid={form.price.isValid}\r\n                  errorMessage={form.price.errorMessage}\r\n                  value={form.price.value}\r\n                  onChange={val => changeHandler(val, 'price')}\r\n                />\r\n              </div>\r\n              <div className=\"col-6\">\r\n                <div className=\"mb-2\">\r\n                  <p className=\"mb-2\">Kategoria</p>\r\n                  <Input\r\n                    type=\"select\"\r\n                    name=\"category-announcement\"\r\n                    options={[\r\n                      { label: 'Trackday', value: 'trackday' },\r\n                      { label: 'Opony', value: 'tires' },\r\n                      { label: 'Motocykle', value: 'motorcycles' }]}\r\n                    isValid={form.category.isValid}\r\n                    errorMessage={form.category.errorMessage}\r\n                    value={form.category.value}\r\n                    onChange={val => changeHandler(val, 'category')}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {props.announcement\r\n              ? null\r\n              : (\r\n                <div className=\"my-2\">\r\n                  <p className=\"mb-2\">Dodaj zdjęcie</p>\r\n                  <Input\r\n                    type=\"file\"\r\n                    name=\"photo-announcement\"\r\n                    onChange={(img) => imgHandler(img)}\r\n                    loading={loadingPhoto}\r\n                    invalidMessage={form.photo.invalidMessage}\r\n                    validMessage={form.photo.validMessage}\r\n                    isValid={form.photo.isValid}\r\n                  />\r\n                  <p className=\"text-muted\"><small>*aby dodać ogłoszenie musisz dodać zdjęcie</small></p>\r\n                </div>\r\n              )}\r\n\r\n            <Input\r\n              type=\"textarea\"\r\n              label=\"Opis produktu\"\r\n              name=\"description-announcement\"\r\n              isValid={form.description.isValid}\r\n              errorMessage={form.description.errorMessage}\r\n              value={form.description.value}\r\n              onChange={val => changeHandler(val, 'description')}\r\n            />\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-12 col-sm-6\">\r\n                <Input\r\n                  type=\"text\"\r\n                  label=\"Imię\"\r\n                  name=\"name-announcement\"\r\n                  isValid={form.name.isValid}\r\n                  errorMessage={form.name.errorMessage}\r\n                  value={form.name.value}\r\n                  onChange={val => changeHandler(val, 'name')}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-sm-6\">\r\n                <Input\r\n                  type=\"text\"\r\n                  label=\"Telefon\"\r\n                  name=\"phone-announcement\"\r\n                  isValid={form.phone.isValid}\r\n                  errorMessage={form.phone.errorMessage}\r\n                  value={form.phone.value}\r\n                  onChange={val => changeHandler(val, 'phone')}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-sm-6\">\r\n                <Input\r\n                  type=\"email\"\r\n                  label=\"Email\"\r\n                  name=\"email-announcement\"\r\n                  isValid={form.email.isValid}\r\n                  errorMessage={form.email.errorMessage}\r\n                  value={form.email.value}\r\n                  onChange={val => changeHandler(val, 'email')}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-sm-6\">\r\n                <Input\r\n                  type=\"text\"\r\n                  label=\"Miasto\"\r\n                  name=\"city-announcement\"\r\n                  isValid={form.city.isValid}\r\n                  errorMessage={form.city.errorMessage}\r\n                  value={form.city.value}\r\n                  onChange={val => changeHandler(val, 'city')}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-2\">\r\n              <p className=\"mb-2\">Ogłoszenie promowane</p>\r\n              <Input\r\n                type=\"radio\"\r\n                name=\"promoted-announcement\"\r\n                options={[{\r\n                  value: '1', label: 'Tak'\r\n                }, {\r\n                  value: '0', label: 'Nie'\r\n                }]}\r\n                value={form.promoted.value}\r\n                onChange={value => changeHandler(value, 'promoted')}\r\n              />\r\n            </div>\r\n\r\n            <LoadingButton\r\n              title={props.btnLabel}\r\n              disabled={btnDisabledHandler}\r\n              loading={loading}\r\n            />\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useParams } from \"react-router-dom\";\r\nimport AnnouncementHandlerForm from '../AnnouncementHandlerForm';\r\nimport axiosDB from '../../../axiosDB';\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function EditAnnouncement() {\r\n\r\n  const { id } = useParams();\r\n  const [announcement, setAnnouncement] = useState({});\r\n\r\n  const getAnnouncement = async () => {\r\n    const editAnnouncement = await axiosDB.get(`/announcements/${id}.json`);\r\n    setAnnouncement(editAnnouncement.data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAnnouncement();\r\n  }, [id]);\r\n\r\n  const onSubmit = async (updateAnnouncement) => {\r\n    await axiosDB.patch(`/announcements/${id}.json`, updateAnnouncement);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AnnouncementHandlerForm btnLabel=\"Aktualizuj\" title=\"Edytuj ogłoszenie\" onSubmit={(updateAnnouncement) => onSubmit(updateAnnouncement)} announcement={announcement} />\r\n    </>\r\n  )\r\n}","import AnnouncementHandlerForm from '../AnnouncementHandlerForm';\r\nimport axiosDB from '../../../axiosDB';\r\n\r\nexport default function NewAnnouncement() {\r\n\r\n  const onSubmit = async (announcementData) => {\r\n    await axiosDB.post('/announcements.json', announcementData);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AnnouncementHandlerForm btnLabel=\"Dodaj ogłoszenie\" title=\"Dodaj nowe ogłoszenie\" onSubmit={(announcementData) => onSubmit(announcementData)} />\r\n    </>\r\n  )\r\n}","import './App.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport '../node_modules/bootstrap/dist/js/bootstrap.bundle.js';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport Navbar from './components/Navbar/Navbar';\nimport Searchbar from './components/UI/Searchbar/Searchbar';\nimport Footer from './components/Footer/Footer';\nimport Layout from './components/Layout/Layout';\nimport Search from './pages/Search/Search';\nimport Tickets from './pages/Trackdays/Trackdays';\nimport Tires from './pages/Tires/Tires';\nimport Motorcycles from './pages/Motorcycles/Motorcycles';\nimport Login from './pages/Auth/Login/Login';\nimport AuthContext from './context/authContext';\nimport { useReducer } from 'react';\nimport { initialState, reducer } from './reducer';\nimport ReducerContext from './context/reducerContext';\nimport Registration from './pages/Auth/Registration/Registration';\nimport AuthRouteTrue from './components/AuthRoute/AuthRouteTrue';\nimport AuthRouteFalse from './components/AuthRoute/AuthRouteFalse';\nimport ProfileAnnouncements from './pages/Profile/Announcements/ProfileAnnouncements';\nimport Announcement from './pages/Announcement/Announcement';\nimport Home from './pages/Home/Home';\nimport EditAnnouncement from './pages/AnnouncementHandler/EditAnnouncement/EditAnnouncement';\nimport NewAnnouncement from './pages/AnnouncementHandler/NewAnnouncement/NewAnnouncement';\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const header = (\n    <>\n      <Navbar />\n    </>\n  )\n\n  const content = (\n    <Switch>\n      <AuthRouteTrue path=\"/edit/:id\" component={EditAnnouncement} />\n      <AuthRouteTrue path=\"/newAnnouncement\" component={NewAnnouncement} />\n      <AuthRouteTrue path=\"/profile/announcements/:localId?\" component={ProfileAnnouncements} />\n      <AuthRouteFalse path=\"/registration\" component={Registration} />\n      <AuthRouteFalse path=\"/login\" component={Login} />\n      <Route path=\"/motorcycles\">\n        <Searchbar />\n        <Motorcycles />\n      </Route>\n      <Route path=\"/announcement/:id\" component={Announcement} />\n      <Route path=\"/tires\" >\n        <Searchbar />\n        <Tires />\n      </Route>\n      <Route path=\"/tickets\" >\n        <Searchbar />\n        <Tickets />\n      </Route>\n      <Route path=\"/search/:term?\">\n        <Searchbar />\n        <Search />\n      </Route>\n      <Route exact path=\"/\" component={Home} />\n    </Switch>\n\n  )\n\n  const footer = <Footer />\n\n  return (\n    <AuthContext.Provider value={{\n      user: state.user,\n      login: (user) => dispatch({ type: 'login', user }),\n      logout: () => dispatch({ type: 'logout' })\n    }}>\n      <ReducerContext.Provider value={{\n        state,\n        dispatch\n      }}>\n        <Router>\n          <Layout\n            header={header}\n            content={content}\n            footer={footer}\n          />\n        </Router>\n      </ReducerContext.Provider>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}